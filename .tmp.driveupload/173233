{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\Desktop\\\\whatsapp_sistem\\\\client\\\\src\\\\pages\\\\ConnectionPage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/ConnectionPage.js\n// =====================================\n// PRIMEM WHATSAPP - CONEXÃO COM QR CODE CORRIGIDO\n// Versão completa com todas as correções aplicadas\n// =====================================\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport QRCode from 'qrcode.react';\n\n// Importar contextos e hooks\nimport { useAuth } from '../contexts/AuthContext';\nimport { useWhatsApp } from '../contexts/WhatsAppContext';\nimport { useSettingsContext } from '../contexts/SettingsContext';\n\n// Importar componentes\nimport DashboardLayout from '../layouts/DashboardLayout';\nimport Button from '../components/ui/Button';\nimport Loading from '../components/ui/Loading';\nimport Modal from '../components/ui/Modal';\n\n// Cores PRIMEM\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PRIMEM_COLORS = {\n  primary: '#2B4C8C',\n  secondary: '#C97A4A',\n  accent: '#8B9DC3',\n  success: '#10B981',\n  error: '#EF4444',\n  warning: '#F59E0B',\n  background: '#f0f2f5',\n  white: '#ffffff',\n  text: '#374151'\n};\nconst ConnectionPage = ({\n  onConnectionSuccess,\n  onBackToDashboard,\n  className = '',\n  style = {}\n}) => {\n  _s();\n  // ====================================\n  // CONTEXTOS E HOOKS\n  // ====================================\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    status,\n    qrCode,\n    isConnecting,\n    connectionInfo,\n    error,\n    connectWhatsApp,\n    disconnectWhatsApp,\n    refreshConnection,\n    clearError\n  } = useWhatsApp();\n  const {\n    settings\n  } = useSettingsContext();\n\n  // ====================================\n  // ESTADOS LOCAIS\n  // ====================================\n  const [isManualConnecting, setIsManualConnecting] = useState(false);\n  const [connectionLogs, setConnectionLogs] = useState([]);\n  const [processedQRCode, setProcessedQRCode] = useState(null);\n  const [qrError, setQrError] = useState(null);\n  const [showDisconnectConfirm, setShowDisconnectConfirm] = useState(false);\n  const [showLogs, setShowLogs] = useState(false);\n\n  // ====================================\n  // FUNÇÃO PARA PROCESSAR QR CODE - CORRIGIDA\n  // ====================================\n  const processQRCode = useCallback(rawQrCode => {\n    var _rawQrCode$substring;\n    console.log('🔍 Processando QR Code:', {\n      type: typeof rawQrCode,\n      length: rawQrCode === null || rawQrCode === void 0 ? void 0 : rawQrCode.length,\n      isString: typeof rawQrCode === 'string',\n      preview: rawQrCode === null || rawQrCode === void 0 ? void 0 : (_rawQrCode$substring = rawQrCode.substring) === null || _rawQrCode$substring === void 0 ? void 0 : _rawQrCode$substring.call(rawQrCode, 0, 100)\n    });\n    try {\n      if (!rawQrCode) {\n        console.log('❌ QR Code vazio');\n        setProcessedQRCode(null);\n        setQrError('QR Code não recebido');\n        return;\n      }\n\n      // Converter para string se necessário\n      let qrString = String(rawQrCode);\n\n      // CASO 1: QR Code como base64 data URL\n      if (qrString.startsWith('data:image/')) {\n        console.log('📸 QR Code é uma imagem base64 - convertendo para exibição direta');\n        setProcessedQRCode('IMAGE_BASE64');\n        setQrError(null);\n        return;\n      }\n\n      // CASO 2: QR Code muito longo (provavelmente base64 puro)\n      if (qrString.length > 2000) {\n        console.log('📏 QR Code muito longo - tratando como base64');\n        if (/^[A-Za-z0-9+/=]+$/.test(qrString)) {\n          setProcessedQRCode('IMAGE_BASE64');\n          setQrError(null);\n          return;\n        }\n      }\n\n      // CASO 3: QR Code como JSON/objeto\n      if (qrString.startsWith('{') && qrString.endsWith('}')) {\n        try {\n          const parsed = JSON.parse(qrString);\n          console.log('📋 QR Code é JSON:', parsed);\n          const possibleFields = ['qr', 'qrCode', 'code', 'data', 'value'];\n          for (const field of possibleFields) {\n            if (parsed[field] && typeof parsed[field] === 'string') {\n              console.log(`✅ Encontrado QR Code no campo: ${field}`);\n              setProcessedQRCode(parsed[field]);\n              setQrError(null);\n              return;\n            }\n          }\n        } catch (e) {\n          console.log('❌ Erro ao parsear JSON do QR Code:', e);\n        }\n      }\n\n      // CASO 4: QR Code normal (string direta)\n      if (qrString.length > 10 && qrString.length < 1000) {\n        console.log('✅ QR Code parece ser string normal');\n        setProcessedQRCode(qrString);\n        setQrError(null);\n        return;\n      }\n\n      // CASO 5: Tentar extrair código WhatsApp padrão\n      const whatsappMatch = qrString.match(/1@[A-Za-z0-9+/=]+/);\n      if (whatsappMatch) {\n        console.log('📱 Encontrado código WhatsApp padrão');\n        setProcessedQRCode(whatsappMatch[0]);\n        setQrError(null);\n        return;\n      }\n\n      // CASO 6: URL/link\n      if (qrString.includes('://')) {\n        console.log('🔗 QR Code é uma URL');\n        setProcessedQRCode(qrString);\n        setQrError(null);\n        return;\n      }\n\n      // FALLBACK: Tentar usar os primeiros caracteres\n      console.log('⚠️ Formato desconhecido - usando fallback');\n      const fallback = qrString.substring(0, 500);\n      setProcessedQRCode(fallback);\n      setQrError(`Formato não reconhecido. Usando primeiros ${fallback.length} caracteres.`);\n    } catch (error) {\n      console.error('❌ Erro ao processar QR Code:', error);\n      setProcessedQRCode(null);\n      setQrError(`Erro ao processar: ${error.message}`);\n    }\n  }, []);\n\n  // ====================================\n  // FUNÇÃO PARA RENDERIZAR QR CODE - CORRIGIDA\n  // ====================================\n  const renderQRCode = () => {\n    console.log('🎨 Renderizando QR Code:', {\n      processedQRCode: processedQRCode ? 'EXISTE' : 'NULL',\n      qrError,\n      type: typeof processedQRCode\n    });\n    if (qrError) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          backgroundColor: `${PRIMEM_COLORS.error}10`,\n          borderRadius: '8px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '32px',\n            marginBottom: '12px'\n          },\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: PRIMEM_COLORS.error,\n            marginBottom: '8px'\n          },\n          children: qrError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            opacity: 0.7\n          },\n          children: [\"QR Code original: \", (qrCode === null || qrCode === void 0 ? void 0 : qrCode.length) || 0, \" caracteres\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this);\n    }\n    if (!processedQRCode) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '48px',\n            marginBottom: '16px'\n          },\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            fontWeight: '600',\n            marginBottom: '8px'\n          },\n          children: \"Aguardando QR Code...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            opacity: 0.8,\n            marginBottom: '16px'\n          },\n          children: status === 'connecting' ? 'Gerando código...' : 'Preparando conexão...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Loading, {\n          size: \"medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this);\n    }\n\n    // QR Code como imagem base64\n    if (processedQRCode === 'IMAGE_BASE64') {\n      const imageData = qrCode.startsWith('data:') ? qrCode : `data:image/png;base64,${qrCode}`;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            marginBottom: '16px'\n          },\n          children: \"\\uD83D\\uDCF1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '18px',\n            fontWeight: '600',\n            marginBottom: '16px'\n          },\n          children: \"Escaneie o QR Code com seu WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'white',\n            padding: '20px',\n            borderRadius: '12px',\n            display: 'inline-block',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageData,\n            alt: \"QR Code WhatsApp\",\n            style: {\n              width: '280px',\n              height: '280px',\n              objectFit: 'contain'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#666',\n            marginTop: '16px',\n            maxWidth: '300px',\n            margin: '16px auto 0'\n          },\n          children: \"Abra o WhatsApp \\u2192 Dispositivos vinculados \\u2192 Vincular dispositivo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this);\n    }\n\n    // QR Code como string (usar biblioteca QRCode)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '24px',\n          marginBottom: '16px'\n        },\n        children: \"\\uD83D\\uDCF1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '18px',\n          fontWeight: '600',\n          marginBottom: '16px'\n        },\n        children: \"Escaneie o QR Code com seu WhatsApp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '20px',\n          borderRadius: '12px',\n          display: 'inline-block',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n        },\n        children: /*#__PURE__*/_jsxDEV(QRCode, {\n          value: processedQRCode,\n          size: 280,\n          level: \"M\",\n          includeMargin: true,\n          renderAs: \"canvas\",\n          bgColor: \"#ffffff\",\n          fgColor: \"#000000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#666',\n          marginTop: '16px',\n          maxWidth: '300px',\n          margin: '16px auto 0'\n        },\n        children: \"Abra o WhatsApp \\u2192 Dispositivos vinculados \\u2192 Vincular dispositivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ====================================\n  // FUNÇÃO PARA TRATAMENTO SEGURO DE ERRO - CORRIGIDA\n  // ====================================\n  const getSafeErrorMessage = error => {\n    if (!error) return null;\n    if (typeof error === 'string') {\n      return error;\n    }\n    if (typeof error === 'object') {\n      return error.message || error.error || error.msg || JSON.stringify(error) || 'Erro desconhecido na conexão';\n    }\n    return String(error);\n  };\n\n  // ====================================\n  // EFEITO PARA PROCESSAR QR CODE\n  // ====================================\n  useEffect(() => {\n    if (qrCode) {\n      processQRCode(qrCode);\n    } else {\n      setProcessedQRCode(null);\n      setQrError(null);\n    }\n  }, [qrCode, processQRCode]);\n\n  // ====================================\n  // OUTROS EFEITOS\n  // ====================================\n  useEffect(() => {\n    const newLog = {\n      timestamp: Date.now(),\n      status: status || 'unknown',\n      message: getStatusMessage(status),\n      type: getLogType(status)\n    };\n    setConnectionLogs(prev => [newLog, ...prev].slice(0, 50));\n  }, [status]);\n  useEffect(() => {\n    if (status === 'connected') {\n      if (onConnectionSuccess) {\n        onConnectionSuccess();\n      }\n    }\n  }, [status, onConnectionSuccess]);\n\n  // ====================================\n  // FUNÇÕES AUXILIARES\n  // ====================================\n  const getStatusMessage = status => {\n    switch (status) {\n      case 'connected':\n        return 'WhatsApp conectado com sucesso';\n      case 'connecting':\n        return 'Conectando ao WhatsApp...';\n      case 'disconnected':\n        return 'WhatsApp desconectado';\n      case 'error':\n        return 'Erro na conexão';\n      case 'qr':\n        return 'Aguardando leitura do QR Code';\n      case 'loading':\n        return 'Inicializando WhatsApp...';\n      default:\n        return `Status: ${status || 'desconhecido'}`;\n    }\n  };\n  const getLogType = status => {\n    switch (status) {\n      case 'connected':\n        return 'success';\n      case 'connecting':\n      case 'qr':\n      case 'loading':\n        return 'info';\n      case 'disconnected':\n        return 'warning';\n      case 'error':\n        return 'error';\n      default:\n        return 'info';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'connected':\n        return PRIMEM_COLORS.success;\n      case 'connecting':\n      case 'qr':\n      case 'loading':\n        return PRIMEM_COLORS.warning;\n      case 'disconnected':\n      case 'error':\n        return PRIMEM_COLORS.error;\n      default:\n        return PRIMEM_COLORS.accent;\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'connected':\n        return '✅';\n      case 'connecting':\n      case 'loading':\n        return '⏳';\n      case 'qr':\n        return '📱';\n      case 'disconnected':\n        return '❌';\n      case 'error':\n        return '⚠️';\n      default:\n        return '🔄';\n    }\n  };\n\n  // ====================================\n  // HANDLERS - CORRIGIDOS\n  // ====================================\n  const handleConnect = async () => {\n    console.log('🔌 Iniciando conexão WhatsApp...');\n    setIsManualConnecting(true);\n    if (clearError) {\n      clearError();\n    }\n    try {\n      if (connectWhatsApp) {\n        await connectWhatsApp();\n      } else {\n        console.error('❌ Função connectWhatsApp não disponível');\n      }\n    } catch (error) {\n      console.error('❌ Erro ao conectar:', error);\n    } finally {\n      setTimeout(() => {\n        setIsManualConnecting(false);\n      }, 5000);\n    }\n  };\n  const handleDisconnect = async () => {\n    try {\n      if (disconnectWhatsApp) {\n        await disconnectWhatsApp();\n      }\n      setShowDisconnectConfirm(false);\n    } catch (error) {\n      console.error('❌ Erro ao desconectar:', error);\n    }\n  };\n  const handleRefresh = async () => {\n    try {\n      if (refreshConnection) {\n        await refreshConnection();\n      } else {\n        window.location.reload();\n      }\n    } catch (error) {\n      console.error('❌ Erro ao atualizar conexão:', error);\n    }\n  };\n  const handleBackToDashboard = () => {\n    if (onBackToDashboard) {\n      onBackToDashboard();\n    } else {\n      window.location.href = '/dashboard';\n    }\n  };\n\n  // ====================================\n  // DEBUG LOG - SEGURO\n  // ====================================\n  console.log('🧪 CONNECTION PAGE - Dados de debug:', {\n    user: user ? `${user.email} (${user.role})` : 'null',\n    status: status || 'null',\n    qrCode: qrCode ? `presente (${qrCode.length} chars)` : 'ausente',\n    error: getSafeErrorMessage(error) || 'nenhum erro',\n    isConnecting,\n    settings: settings ? 'carregado' : 'null'\n  });\n\n  // ====================================\n  // RENDER PRINCIPAL - LAYOUT COMPLETO\n  // ====================================\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    className: className,\n    style: style,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        backgroundColor: PRIMEM_COLORS.background,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '24px',\n          borderBottom: '1px solid #e5e7eb',\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: '1200px',\n            margin: '0 auto',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                fontSize: '28px',\n                fontWeight: '700',\n                color: PRIMEM_COLORS.primary,\n                margin: '0 0 8px 0'\n              },\n              children: \"\\uD83D\\uDD17 Conex\\xE3o WhatsApp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6b7280',\n                margin: 0,\n                fontSize: '16px'\n              },\n              children: \"Configure e monitore sua conex\\xE3o com o WhatsApp Business\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                padding: '8px 16px',\n                backgroundColor: `${getStatusColor(status)}15`,\n                border: `1px solid ${getStatusColor(status)}30`,\n                borderRadius: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '16px'\n                },\n                children: getStatusIcon(status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: getStatusColor(status),\n                  fontWeight: '600',\n                  fontSize: '14px'\n                },\n                children: getStatusMessage(status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowLogs(!showLogs),\n              variant: \"outline\",\n              size: \"small\",\n              children: \"\\uD83D\\uDCCB Logs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          padding: '32px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: '1200px',\n            margin: '0 auto',\n            display: 'grid',\n            gridTemplateColumns: showLogs ? '1fr 400px' : '1fr',\n            gap: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: 'white',\n              borderRadius: '16px',\n              padding: '32px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              minHeight: '500px',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            children: [status === 'connected' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '72px',\n                  marginBottom: '24px'\n                },\n                children: \"\\u2705\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  color: PRIMEM_COLORS.success,\n                  marginBottom: '16px'\n                },\n                children: \"WhatsApp Conectado!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#666',\n                  marginBottom: '32px',\n                  fontSize: '16px'\n                },\n                children: \"Sua conex\\xE3o est\\xE1 ativa e funcionando perfeitamente.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this), connectionInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: '#f8f9fa',\n                  padding: '16px',\n                  borderRadius: '8px',\n                  marginBottom: '24px',\n                  textAlign: 'left'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    margin: '0 0 8px 0'\n                  },\n                  children: \"Informa\\xE7\\xF5es da Conex\\xE3o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '4px 0',\n                    fontSize: '14px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Dispositivo:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 25\n                  }, this), \" \", connectionInfo.device || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '4px 0',\n                    fontSize: '14px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"N\\xFAmero:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 25\n                  }, this), \" \", connectionInfo.phone || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '4px 0',\n                    fontSize: '14px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Conectado em:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 25\n                  }, this), \" \", connectionInfo.connectedAt || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '12px',\n                  justifyContent: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleBackToDashboard,\n                  variant: \"primary\",\n                  size: \"large\",\n                  children: \"\\uD83C\\uDFE0 Ir para Dashboard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => setShowDisconnectConfirm(true),\n                  variant: \"outline\",\n                  size: \"large\",\n                  children: \"\\uD83D\\uDD0C Desconectar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this), status === 'qr' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                width: '100%'\n              },\n              children: [renderQRCode(), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '32px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleRefresh,\n                  variant: \"outline\",\n                  style: {\n                    marginRight: '12px'\n                  },\n                  children: \"\\uD83D\\uDD04 Atualizar QR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleBackToDashboard,\n                  variant: \"secondary\",\n                  children: \"\\uD83C\\uDFE0 Voltar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this), (status === 'loading' || status === 'connecting' || isManualConnecting) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '48px',\n                  marginBottom: '24px'\n                },\n                children: \"\\u23F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  color: PRIMEM_COLORS.warning,\n                  marginBottom: '16px'\n                },\n                children: status === 'loading' ? 'Inicializando...' : 'Conectando ao WhatsApp...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#666',\n                  textAlign: 'center',\n                  marginBottom: '24px'\n                },\n                children: status === 'connecting' ? 'Estabelecendo conexão segura' : 'Aguarde um momento'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Loading, {\n                size: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 17\n            }, this), status === 'error' && error && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '72px',\n                  marginBottom: '24px'\n                },\n                children: \"\\u26A0\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  color: PRIMEM_COLORS.error,\n                  marginBottom: '16px'\n                },\n                children: \"Erro de Conex\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#666',\n                  textAlign: 'center',\n                  maxWidth: '400px',\n                  marginBottom: '24px',\n                  lineHeight: '1.5'\n                },\n                children: getSafeErrorMessage(error)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '12px',\n                  justifyContent: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleConnect,\n                  variant: \"primary\",\n                  children: \"\\uD83D\\uDD04 Tentar Novamente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleBackToDashboard,\n                  variant: \"outline\",\n                  children: \"\\uD83C\\uDFE0 Voltar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 17\n            }, this), status === 'disconnected' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '72px',\n                  marginBottom: '24px'\n                },\n                children: \"\\u274C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  color: PRIMEM_COLORS.error,\n                  marginBottom: '16px'\n                },\n                children: \"WhatsApp Desconectado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#666',\n                  marginBottom: '32px'\n                },\n                children: \"Clique no bot\\xE3o abaixo para estabelecer uma nova conex\\xE3o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '12px',\n                  justifyContent: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleConnect,\n                  variant: \"primary\",\n                  size: \"large\",\n                  loading: isManualConnecting,\n                  children: \"\\uD83D\\uDD0C Conectar WhatsApp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleBackToDashboard,\n                  variant: \"outline\",\n                  size: \"large\",\n                  children: \"\\uD83C\\uDFE0 Voltar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), showLogs && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: 'white',\n              borderRadius: '16px',\n              padding: '24px',\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n              maxHeight: '600px',\n              overflow: 'hidden',\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 16px 0',\n                color: PRIMEM_COLORS.primary,\n                fontSize: '18px'\n              },\n              children: \"\\uD83D\\uDCCB Logs de Conex\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1,\n                overflowY: 'auto',\n                fontSize: '12px',\n                fontFamily: 'monospace'\n              },\n              children: connectionLogs.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '8px',\n                  marginBottom: '4px',\n                  backgroundColor: log.type === 'error' ? '#fee2e2' : log.type === 'success' ? '#dcfce7' : log.type === 'warning' ? '#fef3c7' : '#f3f4f6',\n                  borderRadius: '4px',\n                  borderLeft: `3px solid ${log.type === 'error' ? PRIMEM_COLORS.error : log.type === 'success' ? PRIMEM_COLORS.success : log.type === 'warning' ? PRIMEM_COLORS.warning : PRIMEM_COLORS.accent}`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '10px',\n                    color: '#666'\n                  },\n                  children: new Date(log.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#333'\n                  },\n                  children: log.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 767,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setConnectionLogs([]),\n              variant: \"outline\",\n              size: \"small\",\n              style: {\n                marginTop: '16px'\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F Limpar Logs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: showDisconnectConfirm,\n        onClose: () => setShowDisconnectConfirm(false),\n        title: \"Confirmar Desconex\\xE3o\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '16px'\n            },\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: '16px'\n            },\n            children: \"Desconectar WhatsApp?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              marginBottom: '24px'\n            },\n            children: \"Isso ir\\xE1 encerrar sua sess\\xE3o atual. Voc\\xEA precisar\\xE1 escanear o QR Code novamente para reconectar.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowDisconnectConfirm(false),\n              variant: \"outline\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDisconnect,\n              variant: \"danger\",\n              children: \"Desconectar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n};\n\n// ====================================\n// PROP TYPES\n// ====================================\n_s(ConnectionPage, \"4Ln7POlzRXEcw9DuHbqXYWj33i0=\", false, function () {\n  return [useAuth, useWhatsApp, useSettingsContext];\n});\n_c = ConnectionPage;\nConnectionPage.propTypes = {\n  onConnectionSuccess: PropTypes.func,\n  onBackToDashboard: PropTypes.func,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nexport default ConnectionPage;\nvar _c;\n$RefreshReg$(_c, \"ConnectionPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","PropTypes","QRCode","useAuth","useWhatsApp","useSettingsContext","DashboardLayout","Button","Loading","Modal","jsxDEV","_jsxDEV","PRIMEM_COLORS","primary","secondary","accent","success","error","warning","background","white","text","ConnectionPage","onConnectionSuccess","onBackToDashboard","className","style","_s","user","logout","status","qrCode","isConnecting","connectionInfo","connectWhatsApp","disconnectWhatsApp","refreshConnection","clearError","settings","isManualConnecting","setIsManualConnecting","connectionLogs","setConnectionLogs","processedQRCode","setProcessedQRCode","qrError","setQrError","showDisconnectConfirm","setShowDisconnectConfirm","showLogs","setShowLogs","processQRCode","rawQrCode","_rawQrCode$substring","console","log","type","length","isString","preview","substring","call","qrString","String","startsWith","test","endsWith","parsed","JSON","parse","possibleFields","field","e","whatsappMatch","match","includes","fallback","message","renderQRCode","padding","backgroundColor","borderRadius","textAlign","children","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","opacity","fontWeight","size","imageData","display","boxShadow","src","alt","width","height","objectFit","marginTop","maxWidth","margin","value","level","includeMargin","renderAs","bgColor","fgColor","getSafeErrorMessage","msg","stringify","newLog","timestamp","Date","now","getStatusMessage","getLogType","prev","slice","getStatusColor","getStatusIcon","handleConnect","setTimeout","handleDisconnect","handleRefresh","window","location","reload","handleBackToDashboard","href","email","role","minHeight","flexDirection","borderBottom","alignItems","justifyContent","gap","border","onClick","variant","flex","gridTemplateColumns","device","phone","connectedAt","marginRight","lineHeight","loading","maxHeight","overflow","overflowY","fontFamily","map","index","borderLeft","toLocaleTimeString","isOpen","onClose","title","_c","propTypes","func","string","object","$RefreshReg$"],"sources":["C:/Users/david/Desktop/whatsapp_sistem/client/src/pages/ConnectionPage.js"],"sourcesContent":["// client/src/pages/ConnectionPage.js\r\n// =====================================\r\n// PRIMEM WHATSAPP - CONEXÃO COM QR CODE CORRIGIDO\r\n// Versão completa com todas as correções aplicadas\r\n// =====================================\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport QRCode from 'qrcode.react';\r\n\r\n// Importar contextos e hooks\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useWhatsApp } from '../contexts/WhatsAppContext';\r\nimport { useSettingsContext } from '../contexts/SettingsContext';\r\n\r\n// Importar componentes\r\nimport DashboardLayout from '../layouts/DashboardLayout';\r\nimport Button from '../components/ui/Button';\r\nimport Loading from '../components/ui/Loading';\r\nimport Modal from '../components/ui/Modal';\r\n\r\n// Cores PRIMEM\r\nconst PRIMEM_COLORS = {\r\n  primary: '#2B4C8C',\r\n  secondary: '#C97A4A',\r\n  accent: '#8B9DC3',\r\n  success: '#10B981',\r\n  error: '#EF4444',\r\n  warning: '#F59E0B',\r\n  background: '#f0f2f5',\r\n  white: '#ffffff',\r\n  text: '#374151'\r\n};\r\n\r\nconst ConnectionPage = ({\r\n  onConnectionSuccess,\r\n  onBackToDashboard,\r\n  className = '',\r\n  style = {}\r\n}) => {\r\n  // ====================================\r\n  // CONTEXTOS E HOOKS\r\n  // ====================================\r\n  const { user, logout } = useAuth();\r\n  const { \r\n    status, \r\n    qrCode, \r\n    isConnecting,\r\n    connectionInfo,\r\n    error,\r\n    connectWhatsApp,\r\n    disconnectWhatsApp,\r\n    refreshConnection,\r\n    clearError\r\n  } = useWhatsApp();\r\n  \r\n  const { settings } = useSettingsContext();\r\n\r\n  // ====================================\r\n  // ESTADOS LOCAIS\r\n  // ====================================\r\n  const [isManualConnecting, setIsManualConnecting] = useState(false);\r\n  const [connectionLogs, setConnectionLogs] = useState([]);\r\n  const [processedQRCode, setProcessedQRCode] = useState(null);\r\n  const [qrError, setQrError] = useState(null);\r\n  const [showDisconnectConfirm, setShowDisconnectConfirm] = useState(false);\r\n  const [showLogs, setShowLogs] = useState(false);\r\n\r\n  // ====================================\r\n  // FUNÇÃO PARA PROCESSAR QR CODE - CORRIGIDA\r\n  // ====================================\r\n  const processQRCode = useCallback((rawQrCode) => {\r\n    console.log('🔍 Processando QR Code:', {\r\n      type: typeof rawQrCode,\r\n      length: rawQrCode?.length,\r\n      isString: typeof rawQrCode === 'string',\r\n      preview: rawQrCode?.substring?.(0, 100)\r\n    });\r\n\r\n    try {\r\n      if (!rawQrCode) {\r\n        console.log('❌ QR Code vazio');\r\n        setProcessedQRCode(null);\r\n        setQrError('QR Code não recebido');\r\n        return;\r\n      }\r\n\r\n      // Converter para string se necessário\r\n      let qrString = String(rawQrCode);\r\n      \r\n      // CASO 1: QR Code como base64 data URL\r\n      if (qrString.startsWith('data:image/')) {\r\n        console.log('📸 QR Code é uma imagem base64 - convertendo para exibição direta');\r\n        setProcessedQRCode('IMAGE_BASE64');\r\n        setQrError(null);\r\n        return;\r\n      }\r\n      \r\n      // CASO 2: QR Code muito longo (provavelmente base64 puro)\r\n      if (qrString.length > 2000) {\r\n        console.log('📏 QR Code muito longo - tratando como base64');\r\n        if (/^[A-Za-z0-9+/=]+$/.test(qrString)) {\r\n          setProcessedQRCode('IMAGE_BASE64');\r\n          setQrError(null);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // CASO 3: QR Code como JSON/objeto\r\n      if (qrString.startsWith('{') && qrString.endsWith('}')) {\r\n        try {\r\n          const parsed = JSON.parse(qrString);\r\n          console.log('📋 QR Code é JSON:', parsed);\r\n          \r\n          const possibleFields = ['qr', 'qrCode', 'code', 'data', 'value'];\r\n          for (const field of possibleFields) {\r\n            if (parsed[field] && typeof parsed[field] === 'string') {\r\n              console.log(`✅ Encontrado QR Code no campo: ${field}`);\r\n              setProcessedQRCode(parsed[field]);\r\n              setQrError(null);\r\n              return;\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.log('❌ Erro ao parsear JSON do QR Code:', e);\r\n        }\r\n      }\r\n      \r\n      // CASO 4: QR Code normal (string direta)\r\n      if (qrString.length > 10 && qrString.length < 1000) {\r\n        console.log('✅ QR Code parece ser string normal');\r\n        setProcessedQRCode(qrString);\r\n        setQrError(null);\r\n        return;\r\n      }\r\n      \r\n      // CASO 5: Tentar extrair código WhatsApp padrão\r\n      const whatsappMatch = qrString.match(/1@[A-Za-z0-9+/=]+/);\r\n      if (whatsappMatch) {\r\n        console.log('📱 Encontrado código WhatsApp padrão');\r\n        setProcessedQRCode(whatsappMatch[0]);\r\n        setQrError(null);\r\n        return;\r\n      }\r\n      \r\n      // CASO 6: URL/link\r\n      if (qrString.includes('://')) {\r\n        console.log('🔗 QR Code é uma URL');\r\n        setProcessedQRCode(qrString);\r\n        setQrError(null);\r\n        return;\r\n      }\r\n      \r\n      // FALLBACK: Tentar usar os primeiros caracteres\r\n      console.log('⚠️ Formato desconhecido - usando fallback');\r\n      const fallback = qrString.substring(0, 500);\r\n      setProcessedQRCode(fallback);\r\n      setQrError(`Formato não reconhecido. Usando primeiros ${fallback.length} caracteres.`);\r\n      \r\n    } catch (error) {\r\n      console.error('❌ Erro ao processar QR Code:', error);\r\n      setProcessedQRCode(null);\r\n      setQrError(`Erro ao processar: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  // ====================================\r\n  // FUNÇÃO PARA RENDERIZAR QR CODE - CORRIGIDA\r\n  // ====================================\r\n  const renderQRCode = () => {\r\n    console.log('🎨 Renderizando QR Code:', {\r\n      processedQRCode: processedQRCode ? 'EXISTE' : 'NULL',\r\n      qrError,\r\n      type: typeof processedQRCode\r\n    });\r\n\r\n    if (qrError) {\r\n      return (\r\n        <div style={{ \r\n          padding: '20px', \r\n          backgroundColor: `${PRIMEM_COLORS.error}10`, \r\n          borderRadius: '8px',\r\n          textAlign: 'center'\r\n        }}>\r\n          <div style={{ fontSize: '32px', marginBottom: '12px' }}>⚠️</div>\r\n          <div style={{ color: PRIMEM_COLORS.error, marginBottom: '8px' }}>\r\n            {qrError}\r\n          </div>\r\n          <div style={{ fontSize: '12px', opacity: 0.7 }}>\r\n            QR Code original: {qrCode?.length || 0} caracteres\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!processedQRCode) {\r\n      return (\r\n        <div style={{ textAlign: 'center', padding: '40px' }}>\r\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>⏳</div>\r\n          <div style={{ fontSize: '18px', fontWeight: '600', marginBottom: '8px' }}>\r\n            Aguardando QR Code...\r\n          </div>\r\n          <div style={{ fontSize: '14px', opacity: 0.8, marginBottom: '16px' }}>\r\n            {status === 'connecting' ? 'Gerando código...' : 'Preparando conexão...'}\r\n          </div>\r\n          <Loading size=\"medium\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // QR Code como imagem base64\r\n    if (processedQRCode === 'IMAGE_BASE64') {\r\n      const imageData = qrCode.startsWith('data:') ? \r\n        qrCode : \r\n        `data:image/png;base64,${qrCode}`;\r\n        \r\n      return (\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ fontSize: '24px', marginBottom: '16px' }}>📱</div>\r\n          <div style={{ fontSize: '18px', fontWeight: '600', marginBottom: '16px' }}>\r\n            Escaneie o QR Code com seu WhatsApp\r\n          </div>\r\n          <div style={{\r\n            backgroundColor: 'white',\r\n            padding: '20px',\r\n            borderRadius: '12px',\r\n            display: 'inline-block',\r\n            boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\r\n          }}>\r\n            <img\r\n              src={imageData}\r\n              alt=\"QR Code WhatsApp\"\r\n              style={{\r\n                width: '280px',\r\n                height: '280px',\r\n                objectFit: 'contain'\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={{ \r\n            fontSize: '14px', \r\n            color: '#666', \r\n            marginTop: '16px',\r\n            maxWidth: '300px',\r\n            margin: '16px auto 0'\r\n          }}>\r\n            Abra o WhatsApp → Dispositivos vinculados → Vincular dispositivo\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // QR Code como string (usar biblioteca QRCode)\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <div style={{ fontSize: '24px', marginBottom: '16px' }}>📱</div>\r\n        <div style={{ fontSize: '18px', fontWeight: '600', marginBottom: '16px' }}>\r\n          Escaneie o QR Code com seu WhatsApp\r\n        </div>\r\n        <div style={{\r\n          backgroundColor: 'white',\r\n          padding: '20px',\r\n          borderRadius: '12px',\r\n          display: 'inline-block',\r\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <QRCode\r\n            value={processedQRCode}\r\n            size={280}\r\n            level=\"M\"\r\n            includeMargin={true}\r\n            renderAs=\"canvas\"\r\n            bgColor=\"#ffffff\"\r\n            fgColor=\"#000000\"\r\n          />\r\n        </div>\r\n        <div style={{ \r\n          fontSize: '14px', \r\n          color: '#666', \r\n          marginTop: '16px',\r\n          maxWidth: '300px',\r\n          margin: '16px auto 0'\r\n        }}>\r\n          Abra o WhatsApp → Dispositivos vinculados → Vincular dispositivo\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ====================================\r\n  // FUNÇÃO PARA TRATAMENTO SEGURO DE ERRO - CORRIGIDA\r\n  // ====================================\r\n  const getSafeErrorMessage = (error) => {\r\n    if (!error) return null;\r\n    \r\n    if (typeof error === 'string') {\r\n      return error;\r\n    }\r\n    \r\n    if (typeof error === 'object') {\r\n      return error.message || \r\n             error.error || \r\n             error.msg || \r\n             JSON.stringify(error) || \r\n             'Erro desconhecido na conexão';\r\n    }\r\n    \r\n    return String(error);\r\n  };\r\n\r\n  // ====================================\r\n  // EFEITO PARA PROCESSAR QR CODE\r\n  // ====================================\r\n  useEffect(() => {\r\n    if (qrCode) {\r\n      processQRCode(qrCode);\r\n    } else {\r\n      setProcessedQRCode(null);\r\n      setQrError(null);\r\n    }\r\n  }, [qrCode, processQRCode]);\r\n\r\n  // ====================================\r\n  // OUTROS EFEITOS\r\n  // ====================================\r\n  useEffect(() => {\r\n    const newLog = {\r\n      timestamp: Date.now(),\r\n      status: status || 'unknown',\r\n      message: getStatusMessage(status),\r\n      type: getLogType(status)\r\n    };\r\n    \r\n    setConnectionLogs(prev => [newLog, ...prev].slice(0, 50));\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    if (status === 'connected') {\r\n      if (onConnectionSuccess) {\r\n        onConnectionSuccess();\r\n      }\r\n    }\r\n  }, [status, onConnectionSuccess]);\r\n\r\n  // ====================================\r\n  // FUNÇÕES AUXILIARES\r\n  // ====================================\r\n  const getStatusMessage = (status) => {\r\n    switch (status) {\r\n      case 'connected': return 'WhatsApp conectado com sucesso';\r\n      case 'connecting': return 'Conectando ao WhatsApp...';\r\n      case 'disconnected': return 'WhatsApp desconectado';\r\n      case 'error': return 'Erro na conexão';\r\n      case 'qr': return 'Aguardando leitura do QR Code';\r\n      case 'loading': return 'Inicializando WhatsApp...';\r\n      default: return `Status: ${status || 'desconhecido'}`;\r\n    }\r\n  };\r\n\r\n  const getLogType = (status) => {\r\n    switch (status) {\r\n      case 'connected': return 'success';\r\n      case 'connecting': \r\n      case 'qr':\r\n      case 'loading': return 'info';\r\n      case 'disconnected': return 'warning';\r\n      case 'error': return 'error';\r\n      default: return 'info';\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'connected': return PRIMEM_COLORS.success;\r\n      case 'connecting':\r\n      case 'qr':\r\n      case 'loading': return PRIMEM_COLORS.warning;\r\n      case 'disconnected': \r\n      case 'error': return PRIMEM_COLORS.error;\r\n      default: return PRIMEM_COLORS.accent;\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'connected': return '✅';\r\n      case 'connecting': \r\n      case 'loading': return '⏳';\r\n      case 'qr': return '📱';\r\n      case 'disconnected': return '❌';\r\n      case 'error': return '⚠️';\r\n      default: return '🔄';\r\n    }\r\n  };\r\n\r\n  // ====================================\r\n  // HANDLERS - CORRIGIDOS\r\n  // ====================================\r\n  const handleConnect = async () => {\r\n    console.log('🔌 Iniciando conexão WhatsApp...');\r\n    setIsManualConnecting(true);\r\n    \r\n    if (clearError) {\r\n      clearError();\r\n    }\r\n    \r\n    try {\r\n      if (connectWhatsApp) {\r\n        await connectWhatsApp();\r\n      } else {\r\n        console.error('❌ Função connectWhatsApp não disponível');\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Erro ao conectar:', error);\r\n    } finally {\r\n      setTimeout(() => {\r\n        setIsManualConnecting(false);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleDisconnect = async () => {\r\n    try {\r\n      if (disconnectWhatsApp) {\r\n        await disconnectWhatsApp();\r\n      }\r\n      setShowDisconnectConfirm(false);\r\n    } catch (error) {\r\n      console.error('❌ Erro ao desconectar:', error);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = async () => {\r\n    try {\r\n      if (refreshConnection) {\r\n        await refreshConnection();\r\n      } else {\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Erro ao atualizar conexão:', error);\r\n    }\r\n  };\r\n\r\n  const handleBackToDashboard = () => {\r\n    if (onBackToDashboard) {\r\n      onBackToDashboard();\r\n    } else {\r\n      window.location.href = '/dashboard';\r\n    }\r\n  };\r\n\r\n  // ====================================\r\n  // DEBUG LOG - SEGURO\r\n  // ====================================\r\n  console.log('🧪 CONNECTION PAGE - Dados de debug:', {\r\n    user: user ? `${user.email} (${user.role})` : 'null',\r\n    status: status || 'null',\r\n    qrCode: qrCode ? `presente (${qrCode.length} chars)` : 'ausente',\r\n    error: getSafeErrorMessage(error) || 'nenhum erro',\r\n    isConnecting,\r\n    settings: settings ? 'carregado' : 'null'\r\n  });\r\n\r\n  // ====================================\r\n  // RENDER PRINCIPAL - LAYOUT COMPLETO\r\n  // ====================================\r\n  return (\r\n    <DashboardLayout className={className} style={style}>\r\n      <div style={{\r\n        minHeight: '100vh',\r\n        backgroundColor: PRIMEM_COLORS.background,\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n      }}>\r\n        \r\n        {/* HEADER */}\r\n        <div style={{\r\n          backgroundColor: 'white',\r\n          padding: '24px',\r\n          borderBottom: '1px solid #e5e7eb',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <div style={{\r\n            maxWidth: '1200px',\r\n            margin: '0 auto',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between'\r\n          }}>\r\n            <div>\r\n              <h1 style={{\r\n                fontSize: '28px',\r\n                fontWeight: '700',\r\n                color: PRIMEM_COLORS.primary,\r\n                margin: '0 0 8px 0'\r\n              }}>\r\n                🔗 Conexão WhatsApp\r\n              </h1>\r\n              <p style={{\r\n                color: '#6b7280',\r\n                margin: 0,\r\n                fontSize: '16px'\r\n              }}>\r\n                Configure e monitore sua conexão com o WhatsApp Business\r\n              </p>\r\n            </div>\r\n            \r\n            {/* STATUS BADGE */}\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                padding: '8px 16px',\r\n                backgroundColor: `${getStatusColor(status)}15`,\r\n                border: `1px solid ${getStatusColor(status)}30`,\r\n                borderRadius: '20px'\r\n              }}>\r\n                <span style={{ fontSize: '16px' }}>{getStatusIcon(status)}</span>\r\n                <span style={{\r\n                  color: getStatusColor(status),\r\n                  fontWeight: '600',\r\n                  fontSize: '14px'\r\n                }}>\r\n                  {getStatusMessage(status)}\r\n                </span>\r\n              </div>\r\n              \r\n              <Button\r\n                onClick={() => setShowLogs(!showLogs)}\r\n                variant=\"outline\"\r\n                size=\"small\"\r\n              >\r\n                📋 Logs\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* CONTENT AREA */}\r\n        <div style={{ flex: 1, padding: '32px' }}>\r\n          <div style={{\r\n            maxWidth: '1200px',\r\n            margin: '0 auto',\r\n            display: 'grid',\r\n            gridTemplateColumns: showLogs ? '1fr 400px' : '1fr',\r\n            gap: '32px'\r\n          }}>\r\n            \r\n            {/* MAIN CONTENT */}\r\n            <div style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '16px',\r\n              padding: '32px',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n              minHeight: '500px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}>\r\n\r\n              {/* CONECTADO */}\r\n              {status === 'connected' && (\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div style={{ fontSize: '72px', marginBottom: '24px' }}>✅</div>\r\n                  <h2 style={{ color: PRIMEM_COLORS.success, marginBottom: '16px' }}>\r\n                    WhatsApp Conectado!\r\n                  </h2>\r\n                  <p style={{ color: '#666', marginBottom: '32px', fontSize: '16px' }}>\r\n                    Sua conexão está ativa e funcionando perfeitamente.\r\n                  </p>\r\n                  \r\n                  {connectionInfo && (\r\n                    <div style={{\r\n                      backgroundColor: '#f8f9fa',\r\n                      padding: '16px',\r\n                      borderRadius: '8px',\r\n                      marginBottom: '24px',\r\n                      textAlign: 'left'\r\n                    }}>\r\n                      <h4 style={{ margin: '0 0 8px 0' }}>Informações da Conexão:</h4>\r\n                      <p style={{ margin: '4px 0', fontSize: '14px' }}>\r\n                        <strong>Dispositivo:</strong> {connectionInfo.device || 'N/A'}\r\n                      </p>\r\n                      <p style={{ margin: '4px 0', fontSize: '14px' }}>\r\n                        <strong>Número:</strong> {connectionInfo.phone || 'N/A'}\r\n                      </p>\r\n                      <p style={{ margin: '4px 0', fontSize: '14px' }}>\r\n                        <strong>Conectado em:</strong> {connectionInfo.connectedAt || 'N/A'}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n                    <Button\r\n                      onClick={handleBackToDashboard}\r\n                      variant=\"primary\"\r\n                      size=\"large\"\r\n                    >\r\n                      🏠 Ir para Dashboard\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => setShowDisconnectConfirm(true)}\r\n                      variant=\"outline\"\r\n                      size=\"large\"\r\n                    >\r\n                      🔌 Desconectar\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* QR CODE */}\r\n              {status === 'qr' && (\r\n                <div style={{ textAlign: 'center', width: '100%' }}>\r\n                  {renderQRCode()}\r\n                  \r\n                  <div style={{ marginTop: '32px' }}>\r\n                    <Button\r\n                      onClick={handleRefresh}\r\n                      variant=\"outline\"\r\n                      style={{ marginRight: '12px' }}\r\n                    >\r\n                      🔄 Atualizar QR\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleBackToDashboard}\r\n                      variant=\"secondary\"\r\n                    >\r\n                      🏠 Voltar\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* LOADING/CONNECTING */}\r\n              {(status === 'loading' || status === 'connecting' || isManualConnecting) && (\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div style={{ fontSize: '48px', marginBottom: '24px' }}>⏳</div>\r\n                  <h3 style={{ color: PRIMEM_COLORS.warning, marginBottom: '16px' }}>\r\n                    {status === 'loading' ? 'Inicializando...' : 'Conectando ao WhatsApp...'}\r\n                  </h3>\r\n                  <p style={{ color: '#666', textAlign: 'center', marginBottom: '24px' }}>\r\n                    {status === 'connecting' ? 'Estabelecendo conexão segura' : 'Aguarde um momento'}\r\n                  </p>\r\n                  <Loading size=\"large\" />\r\n                </div>\r\n              )}\r\n\r\n              {/* ERRO - CORRIGIDO */}\r\n              {status === 'error' && error && (\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div style={{ fontSize: '72px', marginBottom: '24px' }}>⚠️</div>\r\n                  <h3 style={{ color: PRIMEM_COLORS.error, marginBottom: '16px' }}>\r\n                    Erro de Conexão\r\n                  </h3>\r\n                  <p style={{ \r\n                    color: '#666', \r\n                    textAlign: 'center', \r\n                    maxWidth: '400px',\r\n                    marginBottom: '24px',\r\n                    lineHeight: '1.5'\r\n                  }}>\r\n                    {getSafeErrorMessage(error)}\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n                    <Button\r\n                      onClick={handleConnect}\r\n                      variant=\"primary\"\r\n                    >\r\n                      🔄 Tentar Novamente\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleBackToDashboard}\r\n                      variant=\"outline\"\r\n                    >\r\n                      🏠 Voltar\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* DESCONECTADO */}\r\n              {status === 'disconnected' && (\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div style={{ fontSize: '72px', marginBottom: '24px' }}>❌</div>\r\n                  <h3 style={{ color: PRIMEM_COLORS.error, marginBottom: '16px' }}>\r\n                    WhatsApp Desconectado\r\n                  </h3>\r\n                  <p style={{ color: '#666', marginBottom: '32px' }}>\r\n                    Clique no botão abaixo para estabelecer uma nova conexão.\r\n                  </p>\r\n                  <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n                    <Button\r\n                      onClick={handleConnect}\r\n                      variant=\"primary\"\r\n                      size=\"large\"\r\n                      loading={isManualConnecting}\r\n                    >\r\n                      🔌 Conectar WhatsApp\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleBackToDashboard}\r\n                      variant=\"outline\"\r\n                      size=\"large\"\r\n                    >\r\n                      🏠 Voltar\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n\r\n            {/* LOGS SIDEBAR */}\r\n            {showLogs && (\r\n              <div style={{\r\n                backgroundColor: 'white',\r\n                borderRadius: '16px',\r\n                padding: '24px',\r\n                boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n                maxHeight: '600px',\r\n                overflow: 'hidden',\r\n                display: 'flex',\r\n                flexDirection: 'column'\r\n              }}>\r\n                <h3 style={{\r\n                  margin: '0 0 16px 0',\r\n                  color: PRIMEM_COLORS.primary,\r\n                  fontSize: '18px'\r\n                }}>\r\n                  📋 Logs de Conexão\r\n                </h3>\r\n                \r\n                <div style={{\r\n                  flex: 1,\r\n                  overflowY: 'auto',\r\n                  fontSize: '12px',\r\n                  fontFamily: 'monospace'\r\n                }}>\r\n                  {connectionLogs.map((log, index) => (\r\n                    <div\r\n                      key={index}\r\n                      style={{\r\n                        padding: '8px',\r\n                        marginBottom: '4px',\r\n                        backgroundColor: log.type === 'error' ? '#fee2e2' :\r\n                                        log.type === 'success' ? '#dcfce7' :\r\n                                        log.type === 'warning' ? '#fef3c7' : '#f3f4f6',\r\n                        borderRadius: '4px',\r\n                        borderLeft: `3px solid ${\r\n                          log.type === 'error' ? PRIMEM_COLORS.error :\r\n                          log.type === 'success' ? PRIMEM_COLORS.success :\r\n                          log.type === 'warning' ? PRIMEM_COLORS.warning : PRIMEM_COLORS.accent\r\n                        }`\r\n                      }}\r\n                    >\r\n                      <div style={{ fontSize: '10px', color: '#666' }}>\r\n                        {new Date(log.timestamp).toLocaleTimeString()}\r\n                      </div>\r\n                      <div style={{ color: '#333' }}>\r\n                        {log.message}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                \r\n                <Button\r\n                  onClick={() => setConnectionLogs([])}\r\n                  variant=\"outline\"\r\n                  size=\"small\"\r\n                  style={{ marginTop: '16px' }}\r\n                >\r\n                  🗑️ Limpar Logs\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* MODAL DE CONFIRMAÇÃO PARA DESCONECTAR */}\r\n        <Modal\r\n          isOpen={showDisconnectConfirm}\r\n          onClose={() => setShowDisconnectConfirm(false)}\r\n          title=\"Confirmar Desconexão\"\r\n        >\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>⚠️</div>\r\n            <h3 style={{ marginBottom: '16px' }}>\r\n              Desconectar WhatsApp?\r\n            </h3>\r\n            <p style={{ color: '#666', marginBottom: '24px' }}>\r\n              Isso irá encerrar sua sessão atual. Você precisará escanear o QR Code novamente para reconectar.\r\n            </p>\r\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n              <Button\r\n                onClick={() => setShowDisconnectConfirm(false)}\r\n                variant=\"outline\"\r\n              >\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                onClick={handleDisconnect}\r\n                variant=\"danger\"\r\n              >\r\n                Desconectar\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n};\r\n\r\n// ====================================\r\n// PROP TYPES\r\n// ====================================\r\nConnectionPage.propTypes = {\r\n  onConnectionSuccess: PropTypes.func,\r\n  onBackToDashboard: PropTypes.func,\r\n  className: PropTypes.string,\r\n  style: PropTypes.object\r\n};\r\n\r\nexport default ConnectionPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
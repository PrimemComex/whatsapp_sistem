{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\Desktop\\\\whatsapp_sistem\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\n// client/src/App.js\n// =====================================\n// APP.JS COMPLETO v2.0 - PRIMEM WHATSAPP BUSINESS SYSTEM\n// MantÃ©m estrutura modular + Adiciona sistema de mensagens\n// =====================================\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\n\n// === CONTEXTOS - IMPORTS CORRETOS ===\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { SettingsProvider } from './contexts/SettingsContext';\nimport { WhatsAppProvider, useWhatsApp } from './contexts/WhatsAppContext';\n\n// === PÃGINAS - IMPORTS CORRETOS ===\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\nimport ChatPage from './pages/ChatPage';\nimport ConnectionPage from './pages/ConnectionPage';\n\n// === ESTILOS ===\nimport './App.css';\nimport './index.css';\n\n// === CONFIGURAÃ‡Ã•ES ===\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3001';\nconst SOCKET_URL = 'http://localhost:3001';\n\n// ====================================\n// SISTEMA DE MENSAGENS GLOBAL\n// ====================================\nconst MessageSystem = ({\n  children\n}) => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [messages, setMessages] = useState({});\n  const [conversations, setConversations] = useState([]);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const socketRef = useRef(null);\n\n  // Inicializar Socket.IO\n  useEffect(() => {\n    console.log('ğŸ”Œ Inicializando Socket.IO...');\n    const newSocket = io(SOCKET_URL, {\n      transports: ['polling'],\n      // <- APENAS POLLING (igual ao servidor)\n      reconnectionAttempts: 10,\n      reconnectionDelay: 1000,\n      timeout: 20000\n    });\n\n    // Event Listeners\n    newSocket.on('connect', () => {\n      console.log('âœ… Socket conectado:', newSocket.id);\n      setConnectionStatus('connected');\n      setSocket(newSocket);\n      socketRef.current = newSocket;\n    });\n    newSocket.on('disconnect', () => {\n      console.log('âŒ Socket desconectado');\n      setConnectionStatus('disconnected');\n    });\n    newSocket.on('reconnect', () => {\n      console.log('ğŸ”„ Socket reconectado');\n      setConnectionStatus('connected');\n    });\n\n    // EVENTOS WHATSAPP - CRÃTICOS PARA FUNCIONAMENTO\n    newSocket.on('whatsapp:message_received', messageData => {\n      console.log('ğŸ“¨ Mensagem recebida:', messageData);\n      const conversationId = messageData.from;\n      setMessages(prev => ({\n        ...prev,\n        [conversationId]: [...(prev[conversationId] || []), {\n          id: messageData.id || Date.now(),\n          body: messageData.body || '',\n          from: messageData.from,\n          fromMe: false,\n          timestamp: messageData.timestamp || Date.now(),\n          type: 'received',\n          media: messageData.media,\n          hasMedia: messageData.hasMedia\n        }]\n      }));\n\n      // Atualizar lista de conversas\n      setConversations(prev => {\n        const existing = prev.find(conv => conv.id === conversationId);\n        if (existing) {\n          return prev.map(conv => conv.id === conversationId ? {\n            ...conv,\n            lastMessage: messageData.body,\n            timestamp: messageData.timestamp\n          } : conv);\n        } else {\n          return [...prev, {\n            id: conversationId,\n            name: messageData.notifyName || conversationId.split('@')[0],\n            lastMessage: messageData.body,\n            timestamp: messageData.timestamp,\n            unreadCount: 1\n          }];\n        }\n      });\n\n      // NotificaÃ§Ã£o\n      if (Notification.permission === 'granted') {\n        new Notification('Nova mensagem WhatsApp', {\n          body: messageData.body,\n          icon: '/favicon.ico'\n        });\n      }\n    });\n    newSocket.on('whatsapp:message_sent', messageData => {\n      console.log('ğŸ“¤ Mensagem enviada:', messageData);\n      const conversationId = messageData.to;\n      setMessages(prev => ({\n        ...prev,\n        [conversationId]: [...(prev[conversationId] || []), {\n          id: messageData.id || Date.now(),\n          body: messageData.message || messageData.body || '',\n          to: messageData.to,\n          fromMe: true,\n          timestamp: messageData.timestamp || Date.now(),\n          type: 'sent',\n          status: 'sent'\n        }]\n      }));\n    });\n    newSocket.on('whatsapp:ready', data => {\n      console.log('ğŸš€ WhatsApp pronto:', data);\n      setConnectionStatus('ready');\n    });\n    newSocket.on('whatsapp:disconnected', () => {\n      console.log('âš ï¸ WhatsApp desconectado');\n      setConnectionStatus('disconnected');\n    });\n    newSocket.on('whatsapp:chats', chats => {\n      console.log('ğŸ’¬ Lista de chats recebida:', chats);\n      if (Array.isArray(chats)) {\n        setConversations(chats.map(chat => {\n          var _chat$lastMessage;\n          return {\n            id: chat.id._serialized,\n            name: chat.name,\n            lastMessage: ((_chat$lastMessage = chat.lastMessage) === null || _chat$lastMessage === void 0 ? void 0 : _chat$lastMessage.body) || '',\n            timestamp: chat.timestamp,\n            unreadCount: chat.unreadCount || 0,\n            isGroup: chat.isGroup\n          };\n        }));\n      }\n    });\n\n    // Cleanup\n    return () => {\n      console.log('ğŸ§¹ Limpando Socket.IO...');\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // Solicitar permissÃ£o de notificaÃ§Ã£o\n  useEffect(() => {\n    if (Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  // FunÃ§Ã£o global para enviar mensagem\n  const sendMessage = async (to, message) => {\n    if (!socketRef.current || !to || !message.trim()) {\n      throw new Error('Socket nÃ£o conectado ou dados invÃ¡lidos');\n    }\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        reject(new Error('Timeout ao enviar mensagem'));\n      }, 30000);\n      const messageData = {\n        to: to.replace(/\\D/g, ''),\n        // Apenas nÃºmeros\n        message: message.trim(),\n        timestamp: Date.now()\n      };\n      console.log('ğŸ“¤ Enviando mensagem:', messageData);\n      const handleResponse = response => {\n        clearTimeout(timeout);\n        if (response !== null && response !== void 0 && response.success) {\n          resolve(response);\n        } else {\n          reject(new Error((response === null || response === void 0 ? void 0 : response.error) || 'Erro ao enviar mensagem'));\n        }\n      };\n\n      // Listener temporÃ¡rio para resposta\n      socketRef.current.once('message:sent', handleResponse);\n      socketRef.current.once('message:error', error => {\n        clearTimeout(timeout);\n        reject(new Error(error.message || 'Erro ao enviar mensagem'));\n      });\n\n      // Emitir mensagem\n      socketRef.current.emit('sendMessage', messageData);\n    });\n  };\n\n  // FunÃ§Ã£o para conectar WhatsApp\n  const connectWhatsApp = () => {\n    if (socketRef.current) {\n      console.log('ğŸ”„ Conectando WhatsApp...');\n      socketRef.current.emit('whatsapp:connect');\n    }\n  };\n\n  // FunÃ§Ã£o para obter chats\n  const getChats = () => {\n    if (socketRef.current) {\n      console.log('ğŸ“‹ Solicitando lista de chats...');\n      socketRef.current.emit('whatsapp:getChats');\n    }\n  };\n\n  // Passar dados via Context\n  const messageSystemValue = {\n    socket: socketRef.current,\n    messages,\n    conversations,\n    connectionStatus,\n    sendMessage,\n    connectWhatsApp,\n    getChats,\n    setMessages,\n    setConversations\n  };\n  return /*#__PURE__*/_jsxDEV(MessageContext.Provider, {\n    value: messageSystemValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n};\n\n// Context para mensagens\n_s(MessageSystem, \"uTHpLy/nUoZfPjoCA8O6QVdzYtc=\");\n_c = MessageSystem;\nconst MessageContext = /*#__PURE__*/React.createContext();\nexport const useMessages = () => {\n  _s2();\n  const context = React.useContext(MessageContext);\n  if (!context) {\n    throw new Error('useMessages deve ser usado dentro de MessageSystem');\n  }\n  return context;\n};\n\n// ====================================\n// COMPONENTE DE PROTEÃ‡ÃƒO MELHORADO\n// ====================================\n_s2(useMessages, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst ProtectedRoute = ({\n  children,\n  requireAdmin = false\n}) => {\n  _s3();\n  const {\n    isLoggedIn,\n    loading,\n    user\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loadingContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loadingContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.loadingTitle,\n          children: \"PRIMEM WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.loadingText,\n          children: \"Verificando permiss\\xF5es...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 12\n    }, this);\n  }\n  if (requireAdmin && (user === null || user === void 0 ? void 0 : user.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.accessDeniedContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.accessDeniedContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.accessDeniedTitle,\n          children: \"\\uD83D\\uDD12 Acesso Restrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.accessDeniedText,\n          children: \"Apenas administradores podem acessar esta \\xE1rea.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.accessDeniedInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Seu perfil:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 16\n            }, this), \" \", (user === null || user === void 0 ? void 0 : user.role) || 'NÃ£o definido']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Acesso necess\\xE1rio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 16\n            }, this), \" Administrador\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.history.back(),\n          style: styles.backButton,\n          children: \"\\u2190 Voltar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n\n// ====================================\n// DASHBOARD PRINCIPAL COM NAVEGAÃ‡ÃƒO\n// ====================================\n_s3(ProtectedRoute, \"YiUu8JK1p2fb95/F10fQVjDlRz4=\", false, function () {\n  return [useAuth];\n});\n_c2 = ProtectedRoute;\nconst MainDashboard = () => {\n  _s4();\n  const navigate = useNavigate();\n  const {\n    connectionStatus,\n    connectWhatsApp,\n    getChats\n  } = useMessages();\n  const handleNavigateToChat = () => {\n    console.log('Navegando para Chat...');\n    navigate('/chat');\n  };\n  const handleNavigateToConnection = () => {\n    console.log('Navegando para ConexÃ£o...');\n    navigate('/connection');\n  };\n  const handleNavigateToSettings = () => {\n    console.log('Navegando para ConfiguraÃ§Ãµes...');\n    alert('âš™ï¸ ConfiguraÃ§Ãµes em desenvolvimento!\\n\\nFuncionalidades previstas:\\n- ConfiguraÃ§Ãµes de aparÃªncia\\n- Gerenciamento de usuÃ¡rios\\n- ConfiguraÃ§Ãµes do sistema');\n  };\n\n  // Auto-conectar WhatsApp se nÃ£o estiver conectado\n  useEffect(() => {\n    if (connectionStatus === 'disconnected') {\n      setTimeout(() => {\n        connectWhatsApp();\n        getChats();\n      }, 2000);\n    }\n  }, [connectionStatus, connectWhatsApp, getChats]);\n  return /*#__PURE__*/_jsxDEV(DashboardPage, {\n    onNavigateToChat: handleNavigateToChat,\n    onNavigateToConnection: handleNavigateToConnection,\n    onNavigateToSettings: handleNavigateToSettings,\n    connectionStatus: connectionStatus\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n};\n\n// ====================================\n// CHAT PAGE APRIMORADA\n// ====================================\n_s4(MainDashboard, \"jDPodS4kPzzGchTNMadjxBwTsho=\", false, function () {\n  return [useNavigate, useMessages];\n});\n_c3 = MainDashboard;\nconst EnhancedChatPage = () => {\n  _s5();\n  const {\n    messages,\n    conversations,\n    sendMessage,\n    getChats,\n    connectionStatus\n  } = useMessages();\n  const [selectedConversation, setSelectedConversation] = useState(null);\n\n  // Carregar chats ao abrir pÃ¡gina\n  useEffect(() => {\n    if (connectionStatus === 'ready') {\n      getChats();\n    }\n  }, [connectionStatus, getChats]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.chatContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatSidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCAC Conversas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: getChats,\n          style: styles.refreshButton,\n          children: \"\\uD83D\\uDD04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), conversations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.noConversations,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhuma conversa encontrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: getChats,\n          style: styles.refreshButton,\n          children: \"Carregar conversas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this) : conversations.map(conv => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...styles.conversationItem,\n          ...((selectedConversation === null || selectedConversation === void 0 ? void 0 : selectedConversation.id) === conv.id ? styles.conversationSelected : {})\n        },\n        onClick: () => setSelectedConversation(conv),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.conversationAvatar,\n          children: conv.name.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.conversationInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.conversationName,\n            children: conv.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.conversationLastMessage,\n            children: conv.lastMessage || 'Sem mensagens'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 15\n        }, this), conv.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.unreadBadge,\n          children: conv.unreadCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 17\n        }, this)]\n      }, conv.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatMain,\n      children: selectedConversation ? /*#__PURE__*/_jsxDEV(ChatPage, {\n        selectedChat: selectedConversation,\n        messages: messages[selectedConversation.id] || [],\n        onSendMessage: sendMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.noChatSelected,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCF1 Selecione uma conversa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Escolha uma conversa da lista para come\\xE7ar a trocar mensagens\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.connectionStatus,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: connectionStatus === 'ready' ? '#10B981' : '#EF4444',\n              marginLeft: '8px'\n            },\n            children: connectionStatus === 'ready' ? 'ğŸŸ¢ Conectado' : 'ğŸ”´ Desconectado'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n};\n\n// ====================================\n// ROTA INTELIGENTE RAIZ\n// ====================================\n_s5(EnhancedChatPage, \"EEJ5fj91d9Zs+Dz9zqqDT9Ujbdg=\", false, function () {\n  return [useMessages];\n});\n_c4 = EnhancedChatPage;\nconst RootRoute = () => {\n  _s6();\n  const {\n    isLoggedIn,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loadingContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loadingContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.loadingTitle,\n          children: \"PRIMEM WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.loadingText,\n          children: \"Iniciando sistema...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n// ====================================\n// ROTA DE LOGIN\n// ====================================\n_s6(RootRoute, \"l/HAJYct1YGiLMtDBy6oc9cGgZ0=\", false, function () {\n  return [useAuth];\n});\n_c5 = RootRoute;\nconst LoginRoute = () => {\n  _s7();\n  const {\n    isLoggedIn,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loadingContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loadingContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.loadingText,\n          children: \"Verificando autentica\\xE7\\xE3o...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 485,\n    columnNumber: 10\n  }, this);\n};\n\n// ====================================\n// SISTEMA DE ROTAS\n// ====================================\n_s7(LoginRoute, \"l/HAJYct1YGiLMtDBy6oc9cGgZ0=\", false, function () {\n  return [useAuth];\n});\n_c6 = LoginRoute;\nconst AppRoutes = () => {\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(RootRoute, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(LoginRoute, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/dashboard\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(MainDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/chat\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(EnhancedChatPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/connection\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(ConnectionPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"*\",\n      element: /*#__PURE__*/_jsxDEV(RootRoute, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n};\n\n// ====================================\n// COMPONENTE PRINCIPAL\n// ====================================\n_c7 = AppRoutes;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(SettingsProvider, {\n      children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n        children: /*#__PURE__*/_jsxDEV(WhatsAppProvider, {\n          children: /*#__PURE__*/_jsxDEV(MessageSystem, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"app\",\n              style: {\n                minHeight: '100vh'\n              },\n              children: [/*#__PURE__*/_jsxDEV(AppRoutes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n                children: globalStyles\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 532,\n    columnNumber: 5\n  }, this);\n}\n\n// ====================================\n// ESTILOS\n// ====================================\n_c8 = App;\nconst styles = {\n  loadingContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    background: 'linear-gradient(135deg, #2B4C8C 0%, #8B9DC3 100%)',\n    color: 'white'\n  },\n  loadingContent: {\n    textAlign: 'center'\n  },\n  spinner: {\n    width: '50px',\n    height: '50px',\n    border: '4px solid rgba(255,255,255,0.3)',\n    borderTop: '4px solid white',\n    borderRadius: '50%',\n    animation: 'spin 2s linear infinite',\n    margin: '0 auto 24px'\n  },\n  loadingTitle: {\n    margin: '0 0 8px 0',\n    fontSize: '24px'\n  },\n  loadingText: {\n    margin: 0,\n    opacity: 0.8\n  },\n  accessDeniedContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    background: '#f0f2f5',\n    padding: '20px'\n  },\n  accessDeniedContent: {\n    background: 'white',\n    borderRadius: '12px',\n    padding: '40px',\n    boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\n    maxWidth: '500px',\n    textAlign: 'center'\n  },\n  accessDeniedTitle: {\n    color: '#EF4444',\n    marginBottom: '16px'\n  },\n  accessDeniedText: {\n    marginBottom: '20px'\n  },\n  accessDeniedInfo: {\n    background: '#f8f9fa',\n    padding: '15px',\n    borderRadius: '8px',\n    marginBottom: '20px'\n  },\n  backButton: {\n    padding: '12px 24px',\n    background: '#2B4C8C',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '16px',\n    fontWeight: '600'\n  },\n  chatContainer: {\n    display: 'flex',\n    height: '100vh',\n    background: '#f0f2f5'\n  },\n  chatSidebar: {\n    width: '300px',\n    background: 'white',\n    borderRight: '1px solid #e5e7eb',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  chatHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '16px',\n    borderBottom: '1px solid #e5e7eb',\n    background: '#2B4C8C',\n    color: 'white'\n  },\n  refreshButton: {\n    background: 'transparent',\n    border: '1px solid rgba(255,255,255,0.3)',\n    color: 'white',\n    padding: '8px 12px',\n    borderRadius: '6px',\n    cursor: 'pointer'\n  },\n  noConversations: {\n    padding: '20px',\n    textAlign: 'center',\n    color: '#6b7280'\n  },\n  conversationItem: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '12px 16px',\n    cursor: 'pointer',\n    borderBottom: '1px solid #f3f4f6',\n    transition: 'background-color 0.2s'\n  },\n  conversationSelected: {\n    background: '#e0f2fe'\n  },\n  conversationAvatar: {\n    width: '40px',\n    height: '40px',\n    borderRadius: '50%',\n    background: '#2B4C8C',\n    color: 'white',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 'bold',\n    marginRight: '12px'\n  },\n  conversationInfo: {\n    flex: 1\n  },\n  conversationName: {\n    fontWeight: '600',\n    color: '#1f2937'\n  },\n  conversationLastMessage: {\n    fontSize: '14px',\n    color: '#6b7280',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  unreadBadge: {\n    background: '#EF4444',\n    color: 'white',\n    borderRadius: '10px',\n    padding: '2px 6px',\n    fontSize: '12px',\n    fontWeight: 'bold'\n  },\n  chatMain: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  noChatSelected: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    color: '#6b7280'\n  },\n  connectionStatus: {\n    marginTop: '20px',\n    padding: '10px',\n    background: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n  }\n};\nconst globalStyles = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  * {\n    box-sizing: border-box;\n  }\n  \n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    background: #f0f2f5;\n  }\n  \n  button {\n    transition: all 0.2s ease-in-out;\n  }\n  \n  button:hover:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  }\n  \n  input:focus, textarea:focus {\n    outline: none;\n    border-color: #2B4C8C !important;\n    box-shadow: 0 0 0 2px rgba(43, 76, 140, 0.1);\n  }\n  \n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 4px;\n  }\n  \n  ::-webkit-scrollbar-thumb {\n    background: #2B4C8C;\n    border-radius: 4px;\n  }\n  \n  .conversationItem:hover {\n    background-color: #f9fafb !important;\n  }\n  \n  @media (max-width: 768px) {\n    .app {\n      padding: 10px;\n    }\n    \n    .chatContainer {\n      flex-direction: column;\n    }\n    \n    .chatSidebar {\n      width: 100%;\n      height: 200px;\n    }\n  }\n`;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"MessageSystem\");\n$RefreshReg$(_c2, \"ProtectedRoute\");\n$RefreshReg$(_c3, \"MainDashboard\");\n$RefreshReg$(_c4, \"EnhancedChatPage\");\n$RefreshReg$(_c5, \"RootRoute\");\n$RefreshReg$(_c6, \"LoginRoute\");\n$RefreshReg$(_c7, \"AppRoutes\");\n$RefreshReg$(_c8, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","BrowserRouter","Routes","Route","Navigate","useNavigate","io","AuthProvider","useAuth","SettingsProvider","WhatsAppProvider","useWhatsApp","LoginPage","DashboardPage","ChatPage","ConnectionPage","jsxDEV","_jsxDEV","API_URL","SOCKET_URL","MessageSystem","children","_s","socket","setSocket","messages","setMessages","conversations","setConversations","connectionStatus","setConnectionStatus","socketRef","console","log","newSocket","transports","reconnectionAttempts","reconnectionDelay","timeout","on","id","current","messageData","conversationId","from","prev","Date","now","body","fromMe","timestamp","type","media","hasMedia","existing","find","conv","map","lastMessage","name","notifyName","split","unreadCount","Notification","permission","icon","to","message","status","data","chats","Array","isArray","chat","_chat$lastMessage","_serialized","isGroup","disconnect","requestPermission","sendMessage","trim","Error","Promise","resolve","reject","setTimeout","replace","handleResponse","response","clearTimeout","success","error","once","emit","connectWhatsApp","getChats","messageSystemValue","MessageContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","createContext","useMessages","_s2","context","useContext","ProtectedRoute","requireAdmin","_s3","isLoggedIn","loading","user","style","styles","loadingContainer","loadingContent","spinner","loadingTitle","loadingText","role","accessDeniedContainer","accessDeniedContent","accessDeniedTitle","accessDeniedText","accessDeniedInfo","onClick","window","history","back","backButton","_c2","MainDashboard","_s4","navigate","handleNavigateToChat","handleNavigateToConnection","handleNavigateToSettings","alert","onNavigateToChat","onNavigateToConnection","onNavigateToSettings","_c3","EnhancedChatPage","_s5","selectedConversation","setSelectedConversation","chatContainer","chatSidebar","chatHeader","refreshButton","length","noConversations","conversationItem","conversationSelected","conversationAvatar","charAt","toUpperCase","conversationInfo","conversationName","conversationLastMessage","unreadBadge","chatMain","selectedChat","onSendMessage","noChatSelected","color","marginLeft","_c4","RootRoute","_s6","_c5","LoginRoute","_s7","_c6","AppRoutes","path","element","_c7","App","className","minHeight","globalStyles","_c8","display","justifyContent","alignItems","height","background","textAlign","width","border","borderTop","borderRadius","animation","margin","fontSize","opacity","flexDirection","padding","boxShadow","maxWidth","marginBottom","cursor","fontWeight","borderRight","borderBottom","transition","marginRight","flex","whiteSpace","overflow","textOverflow","marginTop","$RefreshReg$"],"sources":["C:/Users/david/Desktop/whatsapp_sistem/client/src/App.js"],"sourcesContent":["// client/src/App.js\n// =====================================\n// APP.JS COMPLETO v2.0 - PRIMEM WHATSAPP BUSINESS SYSTEM\n// MantÃ©m estrutura modular + Adiciona sistema de mensagens\n// =====================================\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\n\n// === CONTEXTOS - IMPORTS CORRETOS ===\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { SettingsProvider } from './contexts/SettingsContext';\nimport { WhatsAppProvider, useWhatsApp } from './contexts/WhatsAppContext';\n\n// === PÃGINAS - IMPORTS CORRETOS ===\nimport LoginPage from './pages/LoginPage';\nimport DashboardPage from './pages/DashboardPage';\nimport ChatPage from './pages/ChatPage';\nimport ConnectionPage from './pages/ConnectionPage';\n\n// === ESTILOS ===\nimport './App.css';\nimport './index.css';\n\n// === CONFIGURAÃ‡Ã•ES ===\nconst API_URL = 'http://localhost:3001';\nconst SOCKET_URL = 'http://localhost:3001';\n\n// ====================================\n// SISTEMA DE MENSAGENS GLOBAL\n// ====================================\nconst MessageSystem = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n  const [messages, setMessages] = useState({});\n  const [conversations, setConversations] = useState([]);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const socketRef = useRef(null);\n\n  // Inicializar Socket.IO\n  useEffect(() => {\n    console.log('ğŸ”Œ Inicializando Socket.IO...');\n    \n    const newSocket = io(SOCKET_URL, {\n      transports: ['polling'],  // <- APENAS POLLING (igual ao servidor)\n      reconnectionAttempts: 10,\n      reconnectionDelay: 1000,\n      timeout: 20000,\n    });\n\n    // Event Listeners\n    newSocket.on('connect', () => {\n      console.log('âœ… Socket conectado:', newSocket.id);\n      setConnectionStatus('connected');\n      setSocket(newSocket);\n      socketRef.current = newSocket;\n    });\n\n    newSocket.on('disconnect', () => {\n      console.log('âŒ Socket desconectado');\n      setConnectionStatus('disconnected');\n    });\n\n    newSocket.on('reconnect', () => {\n      console.log('ğŸ”„ Socket reconectado');\n      setConnectionStatus('connected');\n    });\n\n    // EVENTOS WHATSAPP - CRÃTICOS PARA FUNCIONAMENTO\n    newSocket.on('whatsapp:message_received', (messageData) => {\n      console.log('ğŸ“¨ Mensagem recebida:', messageData);\n      \n      const conversationId = messageData.from;\n      setMessages(prev => ({\n        ...prev,\n        [conversationId]: [...(prev[conversationId] || []), {\n          id: messageData.id || Date.now(),\n          body: messageData.body || '',\n          from: messageData.from,\n          fromMe: false,\n          timestamp: messageData.timestamp || Date.now(),\n          type: 'received',\n          media: messageData.media,\n          hasMedia: messageData.hasMedia\n        }]\n      }));\n\n      // Atualizar lista de conversas\n      setConversations(prev => {\n        const existing = prev.find(conv => conv.id === conversationId);\n        if (existing) {\n          return prev.map(conv => \n            conv.id === conversationId \n              ? { ...conv, lastMessage: messageData.body, timestamp: messageData.timestamp }\n              : conv\n          );\n        } else {\n          return [...prev, {\n            id: conversationId,\n            name: messageData.notifyName || conversationId.split('@')[0],\n            lastMessage: messageData.body,\n            timestamp: messageData.timestamp,\n            unreadCount: 1\n          }];\n        }\n      });\n\n      // NotificaÃ§Ã£o\n      if (Notification.permission === 'granted') {\n        new Notification('Nova mensagem WhatsApp', {\n          body: messageData.body,\n          icon: '/favicon.ico'\n        });\n      }\n    });\n\n    newSocket.on('whatsapp:message_sent', (messageData) => {\n      console.log('ğŸ“¤ Mensagem enviada:', messageData);\n      \n      const conversationId = messageData.to;\n      setMessages(prev => ({\n        ...prev,\n        [conversationId]: [...(prev[conversationId] || []), {\n          id: messageData.id || Date.now(),\n          body: messageData.message || messageData.body || '',\n          to: messageData.to,\n          fromMe: true,\n          timestamp: messageData.timestamp || Date.now(),\n          type: 'sent',\n          status: 'sent'\n        }]\n      }));\n    });\n\n    newSocket.on('whatsapp:ready', (data) => {\n      console.log('ğŸš€ WhatsApp pronto:', data);\n      setConnectionStatus('ready');\n    });\n\n    newSocket.on('whatsapp:disconnected', () => {\n      console.log('âš ï¸ WhatsApp desconectado');\n      setConnectionStatus('disconnected');\n    });\n\n    newSocket.on('whatsapp:chats', (chats) => {\n      console.log('ğŸ’¬ Lista de chats recebida:', chats);\n      if (Array.isArray(chats)) {\n        setConversations(chats.map(chat => ({\n          id: chat.id._serialized,\n          name: chat.name,\n          lastMessage: chat.lastMessage?.body || '',\n          timestamp: chat.timestamp,\n          unreadCount: chat.unreadCount || 0,\n          isGroup: chat.isGroup\n        })));\n      }\n    });\n\n    // Cleanup\n    return () => {\n      console.log('ğŸ§¹ Limpando Socket.IO...');\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // Solicitar permissÃ£o de notificaÃ§Ã£o\n  useEffect(() => {\n    if (Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  // FunÃ§Ã£o global para enviar mensagem\n  const sendMessage = async (to, message) => {\n    if (!socketRef.current || !to || !message.trim()) {\n      throw new Error('Socket nÃ£o conectado ou dados invÃ¡lidos');\n    }\n\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        reject(new Error('Timeout ao enviar mensagem'));\n      }, 30000);\n\n      const messageData = {\n        to: to.replace(/\\D/g, ''), // Apenas nÃºmeros\n        message: message.trim(),\n        timestamp: Date.now()\n      };\n\n      console.log('ğŸ“¤ Enviando mensagem:', messageData);\n\n      const handleResponse = (response) => {\n        clearTimeout(timeout);\n        if (response?.success) {\n          resolve(response);\n        } else {\n          reject(new Error(response?.error || 'Erro ao enviar mensagem'));\n        }\n      };\n\n      // Listener temporÃ¡rio para resposta\n      socketRef.current.once('message:sent', handleResponse);\n      socketRef.current.once('message:error', (error) => {\n        clearTimeout(timeout);\n        reject(new Error(error.message || 'Erro ao enviar mensagem'));\n      });\n\n      // Emitir mensagem\n      socketRef.current.emit('sendMessage', messageData);\n    });\n  };\n\n  // FunÃ§Ã£o para conectar WhatsApp\n  const connectWhatsApp = () => {\n    if (socketRef.current) {\n      console.log('ğŸ”„ Conectando WhatsApp...');\n      socketRef.current.emit('whatsapp:connect');\n    }\n  };\n\n  // FunÃ§Ã£o para obter chats\n  const getChats = () => {\n    if (socketRef.current) {\n      console.log('ğŸ“‹ Solicitando lista de chats...');\n      socketRef.current.emit('whatsapp:getChats');\n    }\n  };\n\n  // Passar dados via Context\n  const messageSystemValue = {\n    socket: socketRef.current,\n    messages,\n    conversations,\n    connectionStatus,\n    sendMessage,\n    connectWhatsApp,\n    getChats,\n    setMessages,\n    setConversations\n  };\n\n  return (\n    <MessageContext.Provider value={messageSystemValue}>\n      {children}\n    </MessageContext.Provider>\n  );\n};\n\n// Context para mensagens\nconst MessageContext = React.createContext();\nexport const useMessages = () => {\n  const context = React.useContext(MessageContext);\n  if (!context) {\n    throw new Error('useMessages deve ser usado dentro de MessageSystem');\n  }\n  return context;\n};\n\n// ====================================\n// COMPONENTE DE PROTEÃ‡ÃƒO MELHORADO\n// ====================================\nconst ProtectedRoute = ({ children, requireAdmin = false }) => {\n  const { isLoggedIn, loading, user } = useAuth();\n\n  if (loading) {\n    return (\n      <div style={styles.loadingContainer}>\n        <div style={styles.loadingContent}>\n          <div style={styles.spinner}></div>\n          <h2 style={styles.loadingTitle}>PRIMEM WhatsApp</h2>\n          <p style={styles.loadingText}>Verificando permissÃµes...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isLoggedIn) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (requireAdmin && user?.role !== 'admin') {\n    return (\n      <div style={styles.accessDeniedContainer}>\n        <div style={styles.accessDeniedContent}>\n          <h2 style={styles.accessDeniedTitle}>ğŸ”’ Acesso Restrito</h2>\n          <p style={styles.accessDeniedText}>\n            Apenas administradores podem acessar esta Ã¡rea.\n          </p>\n          <div style={styles.accessDeniedInfo}>\n            <p><strong>Seu perfil:</strong> {user?.role || 'NÃ£o definido'}</p>\n            <p><strong>Acesso necessÃ¡rio:</strong> Administrador</p>\n          </div>\n          <button\n            onClick={() => window.history.back()}\n            style={styles.backButton}\n          >\n            â† Voltar\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return children;\n};\n\n// ====================================\n// DASHBOARD PRINCIPAL COM NAVEGAÃ‡ÃƒO\n// ====================================\nconst MainDashboard = () => {\n  const navigate = useNavigate();\n  const { connectionStatus, connectWhatsApp, getChats } = useMessages();\n\n  const handleNavigateToChat = () => {\n    console.log('Navegando para Chat...');\n    navigate('/chat');\n  };\n\n  const handleNavigateToConnection = () => {\n    console.log('Navegando para ConexÃ£o...');\n    navigate('/connection');\n  };\n\n  const handleNavigateToSettings = () => {\n    console.log('Navegando para ConfiguraÃ§Ãµes...');\n    alert('âš™ï¸ ConfiguraÃ§Ãµes em desenvolvimento!\\n\\nFuncionalidades previstas:\\n- ConfiguraÃ§Ãµes de aparÃªncia\\n- Gerenciamento de usuÃ¡rios\\n- ConfiguraÃ§Ãµes do sistema');\n  };\n\n  // Auto-conectar WhatsApp se nÃ£o estiver conectado\n  useEffect(() => {\n    if (connectionStatus === 'disconnected') {\n      setTimeout(() => {\n        connectWhatsApp();\n        getChats();\n      }, 2000);\n    }\n  }, [connectionStatus, connectWhatsApp, getChats]);\n\n  return (\n    <DashboardPage\n      onNavigateToChat={handleNavigateToChat}\n      onNavigateToConnection={handleNavigateToConnection}\n      onNavigateToSettings={handleNavigateToSettings}\n      connectionStatus={connectionStatus}\n    />\n  );\n};\n\n// ====================================\n// CHAT PAGE APRIMORADA\n// ====================================\nconst EnhancedChatPage = () => {\n  const { messages, conversations, sendMessage, getChats, connectionStatus } = useMessages();\n  const [selectedConversation, setSelectedConversation] = useState(null);\n\n  // Carregar chats ao abrir pÃ¡gina\n  useEffect(() => {\n    if (connectionStatus === 'ready') {\n      getChats();\n    }\n  }, [connectionStatus, getChats]);\n\n  return (\n    <div style={styles.chatContainer}>\n      {/* Sidebar de conversas */}\n      <div style={styles.chatSidebar}>\n        <div style={styles.chatHeader}>\n          <h3>ğŸ’¬ Conversas</h3>\n          <button \n            onClick={getChats}\n            style={styles.refreshButton}\n          >\n            ğŸ”„\n          </button>\n        </div>\n        \n        {conversations.length === 0 ? (\n          <div style={styles.noConversations}>\n            <p>Nenhuma conversa encontrada</p>\n            <button onClick={getChats} style={styles.refreshButton}>\n              Carregar conversas\n            </button>\n          </div>\n        ) : (\n          conversations.map(conv => (\n            <div\n              key={conv.id}\n              style={{\n                ...styles.conversationItem,\n                ...(selectedConversation?.id === conv.id ? styles.conversationSelected : {})\n              }}\n              onClick={() => setSelectedConversation(conv)}\n            >\n              <div style={styles.conversationAvatar}>\n                {conv.name.charAt(0).toUpperCase()}\n              </div>\n              <div style={styles.conversationInfo}>\n                <div style={styles.conversationName}>{conv.name}</div>\n                <div style={styles.conversationLastMessage}>\n                  {conv.lastMessage || 'Sem mensagens'}\n                </div>\n              </div>\n              {conv.unreadCount > 0 && (\n                <div style={styles.unreadBadge}>{conv.unreadCount}</div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Ãrea de chat */}\n      <div style={styles.chatMain}>\n        {selectedConversation ? (\n          <ChatPage \n            selectedChat={selectedConversation}\n            messages={messages[selectedConversation.id] || []}\n            onSendMessage={sendMessage}\n          />\n        ) : (\n          <div style={styles.noChatSelected}>\n            <h3>ğŸ“± Selecione uma conversa</h3>\n            <p>Escolha uma conversa da lista para comeÃ§ar a trocar mensagens</p>\n            <div style={styles.connectionStatus}>\n              <strong>Status:</strong> \n              <span style={{\n                color: connectionStatus === 'ready' ? '#10B981' : '#EF4444',\n                marginLeft: '8px'\n              }}>\n                {connectionStatus === 'ready' ? 'ğŸŸ¢ Conectado' : 'ğŸ”´ Desconectado'}\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ====================================\n// ROTA INTELIGENTE RAIZ\n// ====================================\nconst RootRoute = () => {\n  const { isLoggedIn, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div style={styles.loadingContainer}>\n        <div style={styles.loadingContent}>\n          <div style={styles.spinner}></div>\n          <h2 style={styles.loadingTitle}>PRIMEM WhatsApp</h2>\n          <p style={styles.loadingText}>Iniciando sistema...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  if (isLoggedIn) {\n    return <Navigate to=\"/dashboard\" replace />;\n  } else {\n    return <Navigate to=\"/login\" replace />;\n  }\n};\n\n// ====================================\n// ROTA DE LOGIN\n// ====================================\nconst LoginRoute = () => {\n  const { isLoggedIn, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div style={styles.loadingContainer}>\n        <div style={styles.loadingContent}>\n          <div style={styles.spinner}></div>\n          <p style={styles.loadingText}>Verificando autenticaÃ§Ã£o...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  if (isLoggedIn) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <LoginPage />;\n};\n\n// ====================================\n// SISTEMA DE ROTAS\n// ====================================\nconst AppRoutes = () => {\n  return (\n    <Routes>\n      {/* ROTA RAIZ */}\n      <Route path=\"/\" element={<RootRoute />} />\n      \n      {/* LOGIN */}\n      <Route path=\"/login\" element={<LoginRoute />} />\n      \n      {/* DASHBOARD PRINCIPAL */}\n      <Route path=\"/dashboard\" element={\n        <ProtectedRoute>\n          <MainDashboard />\n        </ProtectedRoute>\n      } />\n      \n      {/* CHAT APRIMORADO */}\n      <Route path=\"/chat\" element={\n        <ProtectedRoute>\n          <EnhancedChatPage />\n        </ProtectedRoute>\n      } />\n      \n      {/* CONEXÃƒO */}\n      <Route path=\"/connection\" element={\n        <ProtectedRoute>\n          <ConnectionPage />\n        </ProtectedRoute>\n      } />\n      \n      {/* FALLBACK */}\n      <Route path=\"*\" element={<RootRoute />} />\n    </Routes>\n  );\n};\n\n// ====================================\n// COMPONENTE PRINCIPAL\n// ====================================\nfunction App() {\n  return (\n    <BrowserRouter>\n      <SettingsProvider>\n        <AuthProvider>\n          <WhatsAppProvider>\n            <MessageSystem>\n              <div className=\"app\" style={{ minHeight: '100vh' }}>\n                <AppRoutes />\n                \n                {/* CSS GLOBAL */}\n                <style>{globalStyles}</style>\n              </div>\n            </MessageSystem>\n          </WhatsAppProvider>\n        </AuthProvider>\n      </SettingsProvider>\n    </BrowserRouter>\n  );\n}\n\n// ====================================\n// ESTILOS\n// ====================================\nconst styles = {\n  loadingContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    background: 'linear-gradient(135deg, #2B4C8C 0%, #8B9DC3 100%)',\n    color: 'white'\n  },\n  loadingContent: {\n    textAlign: 'center'\n  },\n  spinner: {\n    width: '50px',\n    height: '50px',\n    border: '4px solid rgba(255,255,255,0.3)',\n    borderTop: '4px solid white',\n    borderRadius: '50%',\n    animation: 'spin 2s linear infinite',\n    margin: '0 auto 24px'\n  },\n  loadingTitle: {\n    margin: '0 0 8px 0',\n    fontSize: '24px'\n  },\n  loadingText: {\n    margin: 0,\n    opacity: 0.8\n  },\n  accessDeniedContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    background: '#f0f2f5',\n    padding: '20px'\n  },\n  accessDeniedContent: {\n    background: 'white',\n    borderRadius: '12px',\n    padding: '40px',\n    boxShadow: '0 4px 20px rgba(0,0,0,0.1)',\n    maxWidth: '500px',\n    textAlign: 'center'\n  },\n  accessDeniedTitle: {\n    color: '#EF4444',\n    marginBottom: '16px'\n  },\n  accessDeniedText: {\n    marginBottom: '20px'\n  },\n  accessDeniedInfo: {\n    background: '#f8f9fa',\n    padding: '15px',\n    borderRadius: '8px',\n    marginBottom: '20px'\n  },\n  backButton: {\n    padding: '12px 24px',\n    background: '#2B4C8C',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '16px',\n    fontWeight: '600'\n  },\n  chatContainer: {\n    display: 'flex',\n    height: '100vh',\n    background: '#f0f2f5'\n  },\n  chatSidebar: {\n    width: '300px',\n    background: 'white',\n    borderRight: '1px solid #e5e7eb',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  chatHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '16px',\n    borderBottom: '1px solid #e5e7eb',\n    background: '#2B4C8C',\n    color: 'white'\n  },\n  refreshButton: {\n    background: 'transparent',\n    border: '1px solid rgba(255,255,255,0.3)',\n    color: 'white',\n    padding: '8px 12px',\n    borderRadius: '6px',\n    cursor: 'pointer'\n  },\n  noConversations: {\n    padding: '20px',\n    textAlign: 'center',\n    color: '#6b7280'\n  },\n  conversationItem: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '12px 16px',\n    cursor: 'pointer',\n    borderBottom: '1px solid #f3f4f6',\n    transition: 'background-color 0.2s'\n  },\n  conversationSelected: {\n    background: '#e0f2fe'\n  },\n  conversationAvatar: {\n    width: '40px',\n    height: '40px',\n    borderRadius: '50%',\n    background: '#2B4C8C',\n    color: 'white',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 'bold',\n    marginRight: '12px'\n  },\n  conversationInfo: {\n    flex: 1\n  },\n  conversationName: {\n    fontWeight: '600',\n    color: '#1f2937'\n  },\n  conversationLastMessage: {\n    fontSize: '14px',\n    color: '#6b7280',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  unreadBadge: {\n    background: '#EF4444',\n    color: 'white',\n    borderRadius: '10px',\n    padding: '2px 6px',\n    fontSize: '12px',\n    fontWeight: 'bold'\n  },\n  chatMain: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  noChatSelected: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    color: '#6b7280'\n  },\n  connectionStatus: {\n    marginTop: '20px',\n    padding: '10px',\n    background: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n  }\n};\n\nconst globalStyles = `\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  * {\n    box-sizing: border-box;\n  }\n  \n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    background: #f0f2f5;\n  }\n  \n  button {\n    transition: all 0.2s ease-in-out;\n  }\n  \n  button:hover:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  }\n  \n  input:focus, textarea:focus {\n    outline: none;\n    border-color: #2B4C8C !important;\n    box-shadow: 0 0 0 2px rgba(43, 76, 140, 0.1);\n  }\n  \n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 4px;\n  }\n  \n  ::-webkit-scrollbar-thumb {\n    background: #2B4C8C;\n    border-radius: 4px;\n  }\n  \n  .conversationItem:hover {\n    background-color: #f9fafb !important;\n  }\n  \n  @media (max-width: 768px) {\n    .app {\n      padding: 10px;\n    }\n    \n    .chatContainer {\n      flex-direction: column;\n    }\n    \n    .chatSidebar {\n      width: 100%;\n      height: 200px;\n    }\n  }\n`;\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
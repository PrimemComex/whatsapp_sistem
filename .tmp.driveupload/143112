{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\Desktop\\\\whatsapp_sistem\\\\client\\\\src\\\\pages\\\\ChatPage.js\",\n  _s = $RefreshSig$();\n// ==========================================\n// ARQUIVO: client/src/pages/ChatPage.js\n// ==========================================\n// SUBSTITUA COMPLETAMENTE O ARQUIVO EXISTENTE POR ESTE CÃ“DIGO\n// SOLUÃ‡ÃƒO DEFINITIVA PARA MENSAGENS NÃƒO APARECEREM\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport useWhatsApp from '../hooks/useWhatsApp';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatPage = () => {\n  _s();\n  var _user$name, _selectedChat$id5, _selectedChat$id6;\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    isConnected,\n    status,\n    qrCode,\n    chats,\n    messages,\n    selectedChat,\n    error,\n    loading,\n    connect,\n    sendMessage,\n    selectChat\n  } = useWhatsApp();\n\n  // Estados locais\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredChats, setFilteredChats] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [showFileUpload, setShowFileUpload] = useState(false);\n  const [dragOver, setDragOver] = useState(false);\n  const [messageLoadError, setMessageLoadError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // FunÃ§Ã£o auxiliar para normalizar IDs\n  const normalizeId = useCallback(id => {\n    if (!id) return '';\n    return id.replace('@c.us', '').replace('@g.us', '').replace('@broadcast', '');\n  }, []);\n\n  // FunÃ§Ã£o auxiliar para log detalhado\n  const debugLog = useCallback((message, data = null) => {\n    console.log(`ðŸ” CHATPAGE: ${message}`, data);\n  }, []);\n\n  // Conectar automaticamente\n  useEffect(() => {\n    if (!isConnected && status !== 'connecting' && status !== 'qr') {\n      debugLog('Auto-conectando WhatsApp...');\n      connect();\n    }\n  }, [isConnected, status, connect]);\n\n  // Filtrar chats\n  useEffect(() => {\n    if (Array.isArray(chats)) {\n      const filtered = chats.filter(chat => {\n        var _chat$id;\n        const name = ((chat === null || chat === void 0 ? void 0 : chat.name) || '').toLowerCase();\n        const id = ((chat === null || chat === void 0 ? void 0 : (_chat$id = chat.id) === null || _chat$id === void 0 ? void 0 : _chat$id._serialized) || '').toLowerCase();\n        const phone = normalizeId(id).toLowerCase();\n        const searchLower = searchTerm.toLowerCase();\n        return name.includes(searchLower) || id.includes(searchLower) || phone.includes(searchLower);\n      });\n      setFilteredChats(filtered);\n      debugLog(`Chats filtrados: ${filtered.length} de ${chats.length} total`);\n    }\n  }, [chats, searchTerm, normalizeId]);\n\n  // CORREÃ‡ÃƒO PRINCIPAL: Carregamento robusto de mensagens\n  useEffect(() => {\n    const loadMessagesForChat = () => {\n      var _selectedChat$id;\n      setMessageLoadError(null);\n      if (!selectedChat || !Array.isArray(messages)) {\n        debugLog('Requisitos nÃ£o atendidos para carregar mensagens', {\n          hasSelectedChat: !!selectedChat,\n          isMessagesArray: Array.isArray(messages),\n          messagesLength: (messages === null || messages === void 0 ? void 0 : messages.length) || 0\n        });\n        setChatMessages([]);\n        return;\n      }\n      const chatId = (_selectedChat$id = selectedChat.id) === null || _selectedChat$id === void 0 ? void 0 : _selectedChat$id._serialized;\n      if (!chatId) {\n        debugLog('Chat sem ID vÃ¡lido', selectedChat);\n        setChatMessages([]);\n        setMessageLoadError('Chat sem ID vÃ¡lido');\n        return;\n      }\n      debugLog('Iniciando carregamento de mensagens', {\n        chatName: selectedChat.name,\n        chatId: chatId,\n        totalMessages: messages.length\n      });\n\n      // ESTRATÃ‰GIA 1: Match direto por IDs\n      let foundMessages = messages.filter(msg => {\n        var _msg$chat, _msg$chat$id, _msg$id;\n        const msgChatId = msg.chatId || ((_msg$chat = msg.chat) === null || _msg$chat === void 0 ? void 0 : (_msg$chat$id = _msg$chat.id) === null || _msg$chat$id === void 0 ? void 0 : _msg$chat$id._serialized);\n        const msgFrom = msg.from;\n        const msgTo = msg.to;\n        const msgRemoteId = (_msg$id = msg.id) === null || _msg$id === void 0 ? void 0 : _msg$id.remote;\n        return msgChatId === chatId || msgFrom === chatId || msgTo === chatId || msgRemoteId === chatId;\n      });\n      debugLog(`EstratÃ©gia 1 (Match direto): ${foundMessages.length} mensagens`);\n\n      // ESTRATÃ‰GIA 2: Match por nÃºmero normalizado\n      if (foundMessages.length === 0) {\n        const normalizedChatId = normalizeId(chatId);\n        foundMessages = messages.filter(msg => {\n          var _msg$chat2, _msg$chat2$id, _msg$id2;\n          const msgChatId = normalizeId(msg.chatId || ((_msg$chat2 = msg.chat) === null || _msg$chat2 === void 0 ? void 0 : (_msg$chat2$id = _msg$chat2.id) === null || _msg$chat2$id === void 0 ? void 0 : _msg$chat2$id._serialized) || '');\n          const msgFrom = normalizeId(msg.from || '');\n          const msgTo = normalizeId(msg.to || '');\n          const msgRemoteId = normalizeId(((_msg$id2 = msg.id) === null || _msg$id2 === void 0 ? void 0 : _msg$id2.remote) || '');\n          return msgChatId === normalizedChatId || msgFrom === normalizedChatId || msgTo === normalizedChatId || msgRemoteId === normalizedChatId;\n        });\n        debugLog(`EstratÃ©gia 2 (NÃºmeros normalizados): ${foundMessages.length} mensagens`);\n      }\n\n      // ESTRATÃ‰GIA 3: Match parcial (contÃ©m)\n      if (foundMessages.length === 0) {\n        const searchTerms = [chatId, normalizeId(chatId)];\n        foundMessages = messages.filter(msg => {\n          var _msg$id3, _msg$chat3, _msg$chat3$id;\n          const identifiers = [msg.chatId || '', msg.from || '', msg.to || '', ((_msg$id3 = msg.id) === null || _msg$id3 === void 0 ? void 0 : _msg$id3.remote) || '', ((_msg$chat3 = msg.chat) === null || _msg$chat3 === void 0 ? void 0 : (_msg$chat3$id = _msg$chat3.id) === null || _msg$chat3$id === void 0 ? void 0 : _msg$chat3$id._serialized) || ''];\n          return searchTerms.some(term => identifiers.some(id => id && term && (id.includes(term) || term.includes(id))));\n        });\n        debugLog(`EstratÃ©gia 3 (Match parcial): ${foundMessages.length} mensagens`);\n      }\n\n      // ESTRATÃ‰GIA 4: Match por contato (para grupos)\n      if (foundMessages.length === 0 && selectedChat.isGroup) {\n        debugLog('Tentando match para grupo...');\n        foundMessages = messages.filter(msg => {\n          var _msg$chat4, _msg$chat4$id;\n          const msgChat = ((_msg$chat4 = msg.chat) === null || _msg$chat4 === void 0 ? void 0 : (_msg$chat4$id = _msg$chat4.id) === null || _msg$chat4$id === void 0 ? void 0 : _msg$chat4$id._serialized) || msg.chatId || '';\n          return msgChat.includes('g.us') && (msgChat.includes(normalizeId(chatId)) || normalizeId(chatId).includes(normalizeId(msgChat)));\n        });\n        debugLog(`EstratÃ©gia 4 (Grupos): ${foundMessages.length} mensagens`);\n      }\n\n      // ESTRATÃ‰GIA 5: Debug completo (Ãºltima tentativa)\n      if (foundMessages.length === 0) {\n        debugLog('DIAGNÃ“STICO COMPLETO - Nenhuma mensagem encontrada');\n        debugLog('Chat procurado:', {\n          id: chatId,\n          name: selectedChat.name,\n          normalized: normalizeId(chatId),\n          isGroup: selectedChat.isGroup\n        });\n        if (messages.length > 0) {\n          debugLog('Amostra de mensagens disponÃ­veis:');\n          messages.slice(0, 5).forEach((msg, i) => {\n            var _msg$id4, _msg$body;\n            debugLog(`Mensagem ${i + 1}:`, {\n              chatId: msg.chatId,\n              from: msg.from,\n              to: msg.to,\n              remoteId: (_msg$id4 = msg.id) === null || _msg$id4 === void 0 ? void 0 : _msg$id4.remote,\n              body: ((_msg$body = msg.body) === null || _msg$body === void 0 ? void 0 : _msg$body.substring(0, 30)) + '...'\n            });\n          });\n\n          // Listar IDs Ãºnicos disponÃ­veis\n          const uniqueIds = new Set();\n          messages.forEach(msg => {\n            var _msg$id5;\n            if (msg.chatId) uniqueIds.add(msg.chatId);\n            if (msg.from) uniqueIds.add(msg.from);\n            if (msg.to) uniqueIds.add(msg.to);\n            if ((_msg$id5 = msg.id) !== null && _msg$id5 !== void 0 && _msg$id5.remote) uniqueIds.add(msg.id.remote);\n          });\n          debugLog('IDs Ãºnicos disponÃ­veis:', Array.from(uniqueIds).slice(0, 10));\n        }\n        setMessageLoadError('Nenhuma mensagem encontrada para este chat');\n      } else {\n        // Ordenar mensagens por timestamp\n        const sortedMessages = foundMessages.sort((a, b) => {\n          const timeA = a.timestamp || a.date || a.createdAt || 0;\n          const timeB = b.timestamp || b.date || b.createdAt || 0;\n          return timeA - timeB;\n        });\n        setChatMessages(sortedMessages);\n        debugLog(`âœ… SUCESSO: ${sortedMessages.length} mensagens carregadas e ordenadas`);\n        if (sortedMessages.length > 0) {\n          var _sortedMessages$0$bod, _sortedMessages$body;\n          debugLog('Primeira mensagem:', {\n            body: (_sortedMessages$0$bod = sortedMessages[0].body) === null || _sortedMessages$0$bod === void 0 ? void 0 : _sortedMessages$0$bod.substring(0, 50),\n            timestamp: sortedMessages[0].timestamp,\n            fromMe: sortedMessages[0].fromMe\n          });\n          debugLog('Ãšltima mensagem:', {\n            body: (_sortedMessages$body = sortedMessages[sortedMessages.length - 1].body) === null || _sortedMessages$body === void 0 ? void 0 : _sortedMessages$body.substring(0, 50),\n            timestamp: sortedMessages[sortedMessages.length - 1].timestamp,\n            fromMe: sortedMessages[sortedMessages.length - 1].fromMe\n          });\n        }\n      }\n    };\n    loadMessagesForChat();\n  }, [selectedChat, messages, normalizeId, debugLog]);\n\n  // Auto-scroll para a Ãºltima mensagem\n  useEffect(() => {\n    if (messagesEndRef.current && chatMessages.length > 0) {\n      setTimeout(() => {\n        var _messagesEndRef$curre;\n        (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }, 100);\n    }\n  }, [chatMessages]);\n\n  // Handlers\n  const handleChatSelect = useCallback(chat => {\n    var _chat$id2;\n    debugLog(`Chat selecionado: ${chat.name || 'sem nome'}`, {\n      id: (_chat$id2 = chat.id) === null || _chat$id2 === void 0 ? void 0 : _chat$id2._serialized,\n      isGroup: chat.isGroup\n    });\n    selectChat(chat);\n  }, [selectChat, debugLog]);\n  const handleSendMessage = useCallback(async () => {\n    if (!newMessage.trim() || !selectedChat) return;\n    try {\n      debugLog('Enviando mensagem...', {\n        chatId: selectedChat.id._serialized,\n        message: newMessage.substring(0, 50) + '...'\n      });\n      await sendMessage(selectedChat.id._serialized, newMessage);\n      setNewMessage('');\n      debugLog('Mensagem enviada com sucesso');\n    } catch (error) {\n      debugLog('Erro ao enviar mensagem', error);\n      alert('Erro ao enviar mensagem: ' + error.message);\n    }\n  }, [newMessage, selectedChat, sendMessage, debugLog]);\n  const handleKeyPress = useCallback(e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  }, [handleSendMessage]);\n\n  // Upload handlers\n  const handleFileSelect = useCallback(e => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const file = files[0];\n      debugLog('Arquivo selecionado', {\n        name: file.name,\n        size: file.size\n      });\n      if (file.size > 16 * 1024 * 1024) {\n        alert('âŒ Arquivo muito grande. MÃ¡ximo 16MB.');\n        return;\n      }\n      alert(`ðŸ“Ž Upload selecionado: ${file.name} (${(file.size / 1024 / 1024).toFixed(2)}MB)\\n\\nFuncionalidade de upload serÃ¡ implementada em breve.`);\n    }\n  }, [debugLog]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setDragOver(false);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      const file = files[0];\n      debugLog('Arquivo arrastado', {\n        name: file.name,\n        size: file.size\n      });\n      if (file.size > 16 * 1024 * 1024) {\n        alert('âŒ Arquivo muito grande. MÃ¡ximo 16MB.');\n        return;\n      }\n      alert(`ðŸ“‚ Arquivo arrastado: ${file.name}\\n\\nUpload serÃ¡ implementado em breve.`);\n    }\n  }, [debugLog]);\n\n  // Render de mensagem otimizado\n  const renderMessage = useCallback((msg, index) => {\n    const isFromMe = msg.fromMe;\n    const timestamp = msg.timestamp || msg.date || msg.createdAt;\n    const messageTime = timestamp ? new Date(timestamp * 1000) : new Date();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: isFromMe ? 'flex-end' : 'flex-start',\n        marginBottom: '12px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '70%',\n          padding: '12px 16px',\n          borderRadius: isFromMe ? '18px 18px 4px 18px' : '18px 18px 18px 4px',\n          backgroundColor: isFromMe ? '#2B4C8C' : '#ffffff',\n          color: isFromMe ? 'white' : 'black',\n          boxShadow: isFromMe ? '0 2px 4px rgba(43,76,140,0.3)' : '0 2px 4px rgba(0,0,0,0.1)',\n          border: isFromMe ? 'none' : '1px solid #e0e0e0',\n          wordWrap: 'break-word'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '4px'\n          },\n          children: msg.body || (msg.hasMedia ? 'ðŸ“Ž Arquivo de mÃ­dia' : 'Mensagem vazia')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '11px',\n            opacity: 0.7,\n            textAlign: 'right',\n            display: 'flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            gap: '4px'\n          },\n          children: [messageTime.toLocaleTimeString('pt-BR', {\n            hour: '2-digit',\n            minute: '2-digit'\n          }), isFromMe && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2713\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)\n    }, `msg_${msg.id || index}_${timestamp}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this);\n  }, []);\n\n  // Status badge\n  const getStatusBadge = useCallback(() => {\n    if (status === 'connected' && isConnected) {\n      return {\n        text: 'ðŸŸ¢ WhatsApp Conectado',\n        color: '#10B981'\n      };\n    } else if (status === 'connecting') {\n      return {\n        text: 'ðŸŸ¡ Conectando...',\n        color: '#F59E0B'\n      };\n    } else if (status === 'qr') {\n      return {\n        text: 'ðŸ“± Aguardando QR Code',\n        color: '#3B82F6'\n      };\n    } else if (error) {\n      return {\n        text: 'ðŸ”´ Erro de ConexÃ£o',\n        color: '#EF4444'\n      };\n    } else {\n      return {\n        text: 'âš« Desconectado',\n        color: '#6B7280'\n      };\n    }\n  }, [status, isConnected, error]);\n  const statusBadge = getStatusBadge();\n\n  // Render principal\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      backgroundColor: '#f0f2f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '350px',\n        backgroundColor: 'white',\n        borderRight: '1px solid #e0e0e0',\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          background: 'linear-gradient(135deg, #2B4C8C 0%, #C97A4A 100%)',\n          color: 'white'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                margin: 0,\n                fontSize: '18px',\n                fontWeight: '600',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              },\n              children: \"\\uD83D\\uDCF1 PRIMEM WhatsApp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                marginTop: '4px',\n                opacity: 0.9,\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: statusBadge.color\n                },\n                children: \"\\u25CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this), statusBadge.text]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => connect(),\n              style: {\n                background: 'rgba(255,255,255,0.2)',\n                color: 'white',\n                border: 'none',\n                padding: '6px 10px',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '11px'\n              },\n              title: \"Reconectar WhatsApp\",\n              children: \"\\uD83D\\uDD04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              style: {\n                background: 'rgba(255,255,255,0.2)',\n                color: 'white',\n                border: 'none',\n                padding: '6px 10px',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '11px'\n              },\n              title: \"Fazer Logout\",\n              children: \"\\uD83D\\uDEAA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '16px',\n          borderBottom: '1px solid #f0f0f0',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40px',\n            height: '40px',\n            borderRadius: '50%',\n            background: 'linear-gradient(135deg, #2B4C8C, #C97A4A)',\n            color: 'white',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '16px',\n            fontWeight: 'bold'\n          },\n          children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0).toUpperCase()) || 'U'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              fontSize: '14px'\n            },\n            children: (user === null || user === void 0 ? void 0 : user.name) || 'UsuÃ¡rio'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: [(user === null || user === void 0 ? void 0 : user.role) || 'agent', \" \\u2022 \", (user === null || user === void 0 ? void 0 : user.email) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '16px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uD83D\\uDD0D Buscar conversas...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          style: {\n            width: '100%',\n            padding: '10px 12px',\n            border: '1px solid #e0e0e0',\n            borderRadius: '20px',\n            outline: 'none',\n            fontSize: '14px',\n            backgroundColor: '#f8f9fa'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '0 16px 16px',\n          fontSize: '13px',\n          color: '#666'\n        },\n        children: [status === 'connected' && `ðŸ’¬ ${chats.length} conversas â€¢ ${messages.length} mensagens`, status === 'connecting' && 'ðŸ”„ Carregando conversas...', status === 'qr' && 'ðŸ“± Escaneie o QR Code abaixo', error && `âŒ ${error}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          borderTop: '1px solid #f0f0f0'\n        },\n        children: filteredChats.length > 0 ? filteredChats.map((chat, index) => {\n          var _chat$id3, _selectedChat$id2, _chat$id4, _chat$id7;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => handleChatSelect(chat),\n            style: {\n              padding: '16px',\n              borderBottom: '1px solid #f0f0f0',\n              cursor: 'pointer',\n              backgroundColor: (selectedChat === null || selectedChat === void 0 ? void 0 : (_selectedChat$id2 = selectedChat.id) === null || _selectedChat$id2 === void 0 ? void 0 : _selectedChat$id2._serialized) === ((_chat$id4 = chat.id) === null || _chat$id4 === void 0 ? void 0 : _chat$id4._serialized) ? '#e3f2fd' : 'transparent',\n              transition: 'background-color 0.2s ease'\n            },\n            onMouseEnter: e => {\n              var _selectedChat$id3, _chat$id5;\n              if ((selectedChat === null || selectedChat === void 0 ? void 0 : (_selectedChat$id3 = selectedChat.id) === null || _selectedChat$id3 === void 0 ? void 0 : _selectedChat$id3._serialized) !== ((_chat$id5 = chat.id) === null || _chat$id5 === void 0 ? void 0 : _chat$id5._serialized)) {\n                e.target.style.backgroundColor = '#f8f9fa';\n              }\n            },\n            onMouseLeave: e => {\n              var _selectedChat$id4, _chat$id6;\n              if ((selectedChat === null || selectedChat === void 0 ? void 0 : (_selectedChat$id4 = selectedChat.id) === null || _selectedChat$id4 === void 0 ? void 0 : _selectedChat$id4._serialized) !== ((_chat$id6 = chat.id) === null || _chat$id6 === void 0 ? void 0 : _chat$id6._serialized)) {\n                e.target.style.backgroundColor = 'transparent';\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '48px',\n                  height: '48px',\n                  borderRadius: '50%',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  color: 'white',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '18px',\n                  fontWeight: 'bold',\n                  flexShrink: 0\n                },\n                children: chat.name ? chat.name.charAt(0).toUpperCase() : '?'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1,\n                  minWidth: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: '600',\n                    fontSize: '15px',\n                    color: '#1a1a1a',\n                    marginBottom: '2px',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  },\n                  children: chat.name || 'Chat sem nome'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#666',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  },\n                  children: normalizeId(((_chat$id7 = chat.id) === null || _chat$id7 === void 0 ? void 0 : _chat$id7._serialized) || 'ID nÃ£o disponÃ­vel')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this), chat.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: '#25D366',\n                  color: 'white',\n                  borderRadius: '50%',\n                  minWidth: '20px',\n                  height: '20px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '12px',\n                  fontWeight: 'bold'\n                },\n                children: chat.unreadCount > 99 ? '99+' : chat.unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this)\n          }, ((_chat$id3 = chat.id) === null || _chat$id3 === void 0 ? void 0 : _chat$id3._serialized) || `chat_${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '40px 20px',\n            textAlign: 'center',\n            color: '#666',\n            fontSize: '14px'\n          },\n          children: [loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '40px',\n                height: '40px',\n                border: '3px solid #f3f3f3',\n                borderTop: '3px solid #2B4C8C',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite',\n                margin: '0 auto 16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 19\n            }, this), \"Carregando conversas...\"]\n          }, void 0, true), !loading && chats.length === 0 && 'ðŸ“­ Nenhuma conversa disponÃ­vel', !loading && chats.length > 0 && 'ðŸ” Nenhuma conversa encontrada']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: '#f0f2f5'\n      },\n      children: [status === 'qr' && qrCode && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: '40px',\n          backgroundColor: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '72px',\n              marginBottom: '16px'\n            },\n            children: \"\\uD83D\\uDCF1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: '#2B4C8C',\n              fontSize: '28px',\n              marginBottom: '8px',\n              fontWeight: '600'\n            },\n            children: \"Conectar WhatsApp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              fontSize: '16px',\n              margin: 0\n            },\n            children: \"Escaneie o c\\xF3digo QR com seu WhatsApp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'white',\n            padding: '24px',\n            borderRadius: '12px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n            border: '1px solid #e0e0e0',\n            marginBottom: '24px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: qrCode,\n            alt: \"QR Code WhatsApp\",\n            style: {\n              width: '280px',\n              height: '280px',\n              display: 'block'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '24px',\n            textAlign: 'center',\n            maxWidth: '400px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              fontSize: '14px',\n              lineHeight: '1.6',\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Como conectar:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 48\n            }, this), \"1. Abra o WhatsApp no seu celular\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 50\n            }, this), \"2. Toque em Menu \\u2192 Dispositivos conectados\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 59\n            }, this), \"3. Toque em \\\"Conectar dispositivo\\\"\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 51\n            }, this), \"4. Escaneie o c\\xF3digo QR acima\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 11\n      }, this), selectedChat && status === 'connected' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '16px 24px',\n            backgroundColor: 'white',\n            borderBottom: '1px solid #e0e0e0',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '48px',\n              height: '48px',\n              borderRadius: '50%',\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              color: 'white',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '20px',\n              fontWeight: 'bold'\n            },\n            children: selectedChat.name ? selectedChat.name.charAt(0).toUpperCase() : '?'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '16px',\n                fontWeight: '600',\n                color: '#1a1a1a',\n                marginBottom: '2px'\n              },\n              children: selectedChat.name || 'Chat sem nome'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#666'\n              },\n              children: [normalizeId((_selectedChat$id5 = selectedChat.id) === null || _selectedChat$id5 === void 0 ? void 0 : _selectedChat$id5._serialized), \" \\u2022 \\uD83D\\uDFE2 Online \\u2022 \", chatMessages.length, \" mensagens\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                background: 'none',\n                border: 'none',\n                fontSize: '18px',\n                cursor: 'pointer',\n                padding: '8px',\n                borderRadius: '6px',\n                transition: 'background-color 0.2s ease'\n              },\n              children: \"\\uD83D\\uDD0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                background: 'none',\n                border: 'none',\n                fontSize: '18px',\n                cursor: 'pointer',\n                padding: '8px',\n                borderRadius: '6px',\n                transition: 'background-color 0.2s ease'\n              },\n              children: \"\\u22EE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            padding: '24px',\n            overflowY: 'auto',\n            backgroundColor: '#f0f2f5',\n            ...(dragOver && {\n              backgroundColor: `rgba(43,76,140,0.1)`,\n              border: `2px dashed #2B4C8C`\n            })\n          },\n          onDragOver: handleDragOver,\n          onDragLeave: handleDragLeave,\n          onDrop: handleDrop,\n          children: chatMessages.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [chatMessages.map((msg, index) => {\n              var _chatMessages, _chatMessages2, _chatMessages3;\n              const showDateSeparator = index === 0 || new Date((msg.timestamp || msg.date || msg.createdAt || 0) * 1000).toDateString() !== new Date((((_chatMessages = chatMessages[index - 1]) === null || _chatMessages === void 0 ? void 0 : _chatMessages.timestamp) || ((_chatMessages2 = chatMessages[index - 1]) === null || _chatMessages2 === void 0 ? void 0 : _chatMessages2.date) || ((_chatMessages3 = chatMessages[index - 1]) === null || _chatMessages3 === void 0 ? void 0 : _chatMessages3.createdAt) || 0) * 1000).toDateString();\n              return /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [showDateSeparator && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center',\n                    margin: '16px 0',\n                    position: 'relative'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: 'inline-block',\n                      padding: '4px 12px',\n                      backgroundColor: 'rgba(255,255,255,0.9)',\n                      borderRadius: '12px',\n                      fontSize: '12px',\n                      color: '#666',\n                      border: '1px solid #e0e0e0'\n                    },\n                    children: new Date((msg.timestamp || msg.date || msg.createdAt || 0) * 1000).toLocaleDateString('pt-BR', {\n                      weekday: 'long',\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 841,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 27\n                }, this), renderMessage(msg, index)]\n              }, `fragment_${msg.id}_${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 23\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              height: '100%',\n              color: '#666',\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '72px',\n                marginBottom: '16px'\n              },\n              children: \"\\uD83D\\uDCAC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 8px 0',\n                fontSize: '18px'\n              },\n              children: messageLoadError || 'Nenhuma mensagem ainda'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '0 0 8px 0',\n                fontSize: '14px'\n              },\n              children: messageLoadError ? 'Verifique o console para mais detalhes' : 'Inicie a conversa enviando uma mensagem'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                fontSize: '12px',\n                color: '#999'\n              },\n              children: [\"Chat: \", selectedChat.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 46\n              }, this), \"ID: \", (_selectedChat$id6 = selectedChat.id) === null || _selectedChat$id6 === void 0 ? void 0 : _selectedChat$id6._serialized, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 55\n              }, this), \"Mensagens no sistema: \", messages.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 60\n              }, this), \"Status: \", status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '16px 24px',\n            backgroundColor: 'white',\n            borderTop: '1px solid #e0e0e0'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'flex-end',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              style: {\n                background: 'none',\n                border: 'none',\n                fontSize: '20px',\n                cursor: 'pointer',\n                padding: '8px',\n                borderRadius: '6px',\n                transition: 'background-color 0.2s ease'\n              },\n              title: \"Anexar arquivo\",\n              onMouseEnter: e => e.target.style.backgroundColor = '#f0f0f0',\n              onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              style: {\n                display: 'none'\n              },\n              onChange: handleFileSelect,\n              accept: \"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: \"Digite sua mensagem...\",\n              style: {\n                flex: 1,\n                padding: '12px 16px',\n                border: '2px solid #e0e0e0',\n                borderRadius: '24px',\n                outline: 'none',\n                fontSize: '14px',\n                backgroundColor: '#f8f9fa',\n                transition: 'border-color 0.2s ease'\n              },\n              onFocus: e => e.target.style.borderColor = '#2B4C8C',\n              onBlur: e => e.target.style.borderColor = '#e0e0e0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                background: 'none',\n                border: 'none',\n                fontSize: '20px',\n                cursor: 'pointer',\n                padding: '8px',\n                borderRadius: '6px',\n                transition: 'background-color 0.2s ease'\n              },\n              title: \"Adicionar emoji\",\n              onMouseEnter: e => e.target.style.backgroundColor = '#f0f0f0',\n              onMouseLeave: e => e.target.style.backgroundColor = 'transparent',\n              children: \"\\uD83D\\uDE0A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendMessage,\n              disabled: !newMessage.trim(),\n              style: {\n                width: '48px',\n                height: '48px',\n                borderRadius: '50%',\n                border: 'none',\n                backgroundColor: newMessage.trim() ? '#25D366' : '#ccc',\n                color: 'white',\n                cursor: newMessage.trim() ? 'pointer' : 'not-allowed',\n                fontSize: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'all 0.2s ease',\n                boxShadow: newMessage.trim() ? '0 2px 8px rgba(37, 211, 102, 0.3)' : 'none'\n              },\n              onMouseEnter: e => {\n                if (newMessage.trim()) {\n                  e.target.style.transform = 'scale(1.05)';\n                  e.target.style.backgroundColor = '#20B954';\n                }\n              },\n              onMouseLeave: e => {\n                if (newMessage.trim()) {\n                  e.target.style.transform = 'scale(1)';\n                  e.target.style.backgroundColor = '#25D366';\n                }\n              },\n              children: \"\\u2197\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), !selectedChat && status === 'connected' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#666',\n          backgroundColor: 'white',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '96px',\n            marginBottom: '24px',\n            opacity: 0.3\n          },\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '24px',\n            color: '#2B4C8C',\n            marginBottom: '8px',\n            fontWeight: '600'\n          },\n          children: \"Selecione uma conversa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '16px',\n            color: '#666',\n            margin: 0\n          },\n          children: \"Escolha uma conversa na lista ao lado para come\\xE7ar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1006,\n        columnNumber: 11\n      }, this), (status === 'connecting' || loading) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '60px',\n            height: '60px',\n            border: '4px solid #f3f3f3',\n            borderTop: '4px solid #2B4C8C',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            marginBottom: '24px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1051,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#2B4C8C',\n            marginBottom: '8px'\n          },\n          children: status === 'connecting' ? 'Conectando ao WhatsApp...' : 'Carregando...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            textAlign: 'center'\n          },\n          children: status === 'connecting' ? 'Estabelecendo conexÃ£o segura' : 'Aguarde um momento'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1063,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1043,\n        columnNumber: 11\n      }, this), (status === 'error' || status === 'disconnected') && error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '72px',\n            marginBottom: '16px'\n          },\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1079,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#EF4444',\n            marginBottom: '8px'\n          },\n          children: \"Erro de Conex\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            textAlign: 'center',\n            maxWidth: '400px',\n            marginBottom: '24px'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: connect,\n          style: {\n            padding: '12px 24px',\n            backgroundColor: '#2B4C8C',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '600'\n          },\n          children: \"\\uD83D\\uDD04 Tentar Novamente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"u+RmLBj+hHrw3ShoNa22kweUfnY=\", false, function () {\n  return [useAuth, useWhatsApp];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useAuth","useWhatsApp","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatPage","_s","_user$name","_selectedChat$id5","_selectedChat$id6","user","logout","isConnected","status","qrCode","chats","messages","selectedChat","error","loading","connect","sendMessage","selectChat","newMessage","setNewMessage","searchTerm","setSearchTerm","filteredChats","setFilteredChats","chatMessages","setChatMessages","showFileUpload","setShowFileUpload","dragOver","setDragOver","messageLoadError","setMessageLoadError","messagesEndRef","fileInputRef","normalizeId","id","replace","debugLog","message","data","console","log","Array","isArray","filtered","filter","chat","_chat$id","name","toLowerCase","_serialized","phone","searchLower","includes","length","loadMessagesForChat","_selectedChat$id","hasSelectedChat","isMessagesArray","messagesLength","chatId","chatName","totalMessages","foundMessages","msg","_msg$chat","_msg$chat$id","_msg$id","msgChatId","msgFrom","from","msgTo","to","msgRemoteId","remote","normalizedChatId","_msg$chat2","_msg$chat2$id","_msg$id2","searchTerms","_msg$id3","_msg$chat3","_msg$chat3$id","identifiers","some","term","isGroup","_msg$chat4","_msg$chat4$id","msgChat","normalized","slice","forEach","i","_msg$id4","_msg$body","remoteId","body","substring","uniqueIds","Set","_msg$id5","add","sortedMessages","sort","a","b","timeA","timestamp","date","createdAt","timeB","_sortedMessages$0$bod","_sortedMessages$body","fromMe","current","setTimeout","_messagesEndRef$curre","scrollIntoView","behavior","handleChatSelect","_chat$id2","handleSendMessage","trim","alert","handleKeyPress","e","key","shiftKey","preventDefault","handleFileSelect","files","target","file","size","toFixed","handleDragOver","handleDragLeave","handleDrop","dataTransfer","renderMessage","index","isFromMe","messageTime","Date","style","display","justifyContent","marginBottom","children","maxWidth","padding","borderRadius","backgroundColor","color","boxShadow","border","wordWrap","hasMedia","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","opacity","textAlign","alignItems","gap","toLocaleTimeString","hour","minute","getStatusBadge","text","statusBadge","height","fontFamily","width","borderRight","flexDirection","minHeight","background","margin","fontWeight","marginTop","onClick","cursor","title","borderBottom","charAt","toUpperCase","role","email","type","placeholder","value","onChange","outline","flex","overflowY","borderTop","map","_chat$id3","_selectedChat$id2","_chat$id4","_chat$id7","transition","onMouseEnter","_selectedChat$id3","_chat$id5","onMouseLeave","_selectedChat$id4","_chat$id6","flexShrink","minWidth","overflow","textOverflow","whiteSpace","unreadCount","animation","src","alt","lineHeight","onDragOver","onDragLeave","onDrop","_chatMessages","_chatMessages2","_chatMessages3","showDateSeparator","toDateString","position","toLocaleDateString","weekday","year","month","day","ref","_fileInputRef$current","click","accept","onKeyPress","onFocus","borderColor","onBlur","disabled","transform","jsx","_c","$RefreshReg$"],"sources":["C:/Users/david/Desktop/whatsapp_sistem/client/src/pages/ChatPage.js"],"sourcesContent":["// ==========================================\r\n// ARQUIVO: client/src/pages/ChatPage.js\r\n// ==========================================\r\n// SUBSTITUA COMPLETAMENTE O ARQUIVO EXISTENTE POR ESTE CÃ“DIGO\r\n// SOLUÃ‡ÃƒO DEFINITIVA PARA MENSAGENS NÃƒO APARECEREM\r\n\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport useWhatsApp from '../hooks/useWhatsApp';\r\n\r\nconst ChatPage = () => {\r\n  const { user, logout } = useAuth();\r\n  const {\r\n    isConnected,\r\n    status,\r\n    qrCode,\r\n    chats,\r\n    messages,\r\n    selectedChat,\r\n    error,\r\n    loading,\r\n    connect,\r\n    sendMessage,\r\n    selectChat\r\n  } = useWhatsApp();\r\n\r\n  // Estados locais\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredChats, setFilteredChats] = useState([]);\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [showFileUpload, setShowFileUpload] = useState(false);\r\n  const [dragOver, setDragOver] = useState(false);\r\n  const [messageLoadError, setMessageLoadError] = useState(null);\r\n\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // FunÃ§Ã£o auxiliar para normalizar IDs\r\n  const normalizeId = useCallback((id) => {\r\n    if (!id) return '';\r\n    return id.replace('@c.us', '').replace('@g.us', '').replace('@broadcast', '');\r\n  }, []);\r\n\r\n  // FunÃ§Ã£o auxiliar para log detalhado\r\n  const debugLog = useCallback((message, data = null) => {\r\n    console.log(`ðŸ” CHATPAGE: ${message}`, data);\r\n  }, []);\r\n\r\n  // Conectar automaticamente\r\n  useEffect(() => {\r\n    if (!isConnected && status !== 'connecting' && status !== 'qr') {\r\n      debugLog('Auto-conectando WhatsApp...');\r\n      connect();\r\n    }\r\n  }, [isConnected, status, connect]);\r\n\r\n  // Filtrar chats\r\n  useEffect(() => {\r\n    if (Array.isArray(chats)) {\r\n      const filtered = chats.filter(chat => {\r\n        const name = (chat?.name || '').toLowerCase();\r\n        const id = (chat?.id?._serialized || '').toLowerCase();\r\n        const phone = normalizeId(id).toLowerCase();\r\n        const searchLower = searchTerm.toLowerCase();\r\n        \r\n        return name.includes(searchLower) || \r\n               id.includes(searchLower) || \r\n               phone.includes(searchLower);\r\n      });\r\n      setFilteredChats(filtered);\r\n      debugLog(`Chats filtrados: ${filtered.length} de ${chats.length} total`);\r\n    }\r\n  }, [chats, searchTerm, normalizeId]);\r\n\r\n  // CORREÃ‡ÃƒO PRINCIPAL: Carregamento robusto de mensagens\r\n  useEffect(() => {\r\n    const loadMessagesForChat = () => {\r\n      setMessageLoadError(null);\r\n      \r\n      if (!selectedChat || !Array.isArray(messages)) {\r\n        debugLog('Requisitos nÃ£o atendidos para carregar mensagens', {\r\n          hasSelectedChat: !!selectedChat,\r\n          isMessagesArray: Array.isArray(messages),\r\n          messagesLength: messages?.length || 0\r\n        });\r\n        setChatMessages([]);\r\n        return;\r\n      }\r\n\r\n      const chatId = selectedChat.id?._serialized;\r\n      if (!chatId) {\r\n        debugLog('Chat sem ID vÃ¡lido', selectedChat);\r\n        setChatMessages([]);\r\n        setMessageLoadError('Chat sem ID vÃ¡lido');\r\n        return;\r\n      }\r\n\r\n      debugLog('Iniciando carregamento de mensagens', {\r\n        chatName: selectedChat.name,\r\n        chatId: chatId,\r\n        totalMessages: messages.length\r\n      });\r\n\r\n      // ESTRATÃ‰GIA 1: Match direto por IDs\r\n      let foundMessages = messages.filter(msg => {\r\n        const msgChatId = msg.chatId || msg.chat?.id?._serialized;\r\n        const msgFrom = msg.from;\r\n        const msgTo = msg.to;\r\n        const msgRemoteId = msg.id?.remote;\r\n\r\n        return msgChatId === chatId || \r\n               msgFrom === chatId || \r\n               msgTo === chatId ||\r\n               msgRemoteId === chatId;\r\n      });\r\n\r\n      debugLog(`EstratÃ©gia 1 (Match direto): ${foundMessages.length} mensagens`);\r\n\r\n      // ESTRATÃ‰GIA 2: Match por nÃºmero normalizado\r\n      if (foundMessages.length === 0) {\r\n        const normalizedChatId = normalizeId(chatId);\r\n        \r\n        foundMessages = messages.filter(msg => {\r\n          const msgChatId = normalizeId(msg.chatId || msg.chat?.id?._serialized || '');\r\n          const msgFrom = normalizeId(msg.from || '');\r\n          const msgTo = normalizeId(msg.to || '');\r\n          const msgRemoteId = normalizeId(msg.id?.remote || '');\r\n\r\n          return msgChatId === normalizedChatId || \r\n                 msgFrom === normalizedChatId || \r\n                 msgTo === normalizedChatId ||\r\n                 msgRemoteId === normalizedChatId;\r\n        });\r\n\r\n        debugLog(`EstratÃ©gia 2 (NÃºmeros normalizados): ${foundMessages.length} mensagens`);\r\n      }\r\n\r\n      // ESTRATÃ‰GIA 3: Match parcial (contÃ©m)\r\n      if (foundMessages.length === 0) {\r\n        const searchTerms = [chatId, normalizeId(chatId)];\r\n        \r\n        foundMessages = messages.filter(msg => {\r\n          const identifiers = [\r\n            msg.chatId || '',\r\n            msg.from || '',\r\n            msg.to || '',\r\n            msg.id?.remote || '',\r\n            msg.chat?.id?._serialized || ''\r\n          ];\r\n\r\n          return searchTerms.some(term => \r\n            identifiers.some(id => \r\n              (id && term && (id.includes(term) || term.includes(id)))\r\n            )\r\n          );\r\n        });\r\n\r\n        debugLog(`EstratÃ©gia 3 (Match parcial): ${foundMessages.length} mensagens`);\r\n      }\r\n\r\n      // ESTRATÃ‰GIA 4: Match por contato (para grupos)\r\n      if (foundMessages.length === 0 && selectedChat.isGroup) {\r\n        debugLog('Tentando match para grupo...');\r\n        \r\n        foundMessages = messages.filter(msg => {\r\n          const msgChat = msg.chat?.id?._serialized || msg.chatId || '';\r\n          return msgChat.includes('g.us') && (\r\n            msgChat.includes(normalizeId(chatId)) ||\r\n            normalizeId(chatId).includes(normalizeId(msgChat))\r\n          );\r\n        });\r\n\r\n        debugLog(`EstratÃ©gia 4 (Grupos): ${foundMessages.length} mensagens`);\r\n      }\r\n\r\n      // ESTRATÃ‰GIA 5: Debug completo (Ãºltima tentativa)\r\n      if (foundMessages.length === 0) {\r\n        debugLog('DIAGNÃ“STICO COMPLETO - Nenhuma mensagem encontrada');\r\n        debugLog('Chat procurado:', {\r\n          id: chatId,\r\n          name: selectedChat.name,\r\n          normalized: normalizeId(chatId),\r\n          isGroup: selectedChat.isGroup\r\n        });\r\n\r\n        if (messages.length > 0) {\r\n          debugLog('Amostra de mensagens disponÃ­veis:');\r\n          messages.slice(0, 5).forEach((msg, i) => {\r\n            debugLog(`Mensagem ${i + 1}:`, {\r\n              chatId: msg.chatId,\r\n              from: msg.from,\r\n              to: msg.to,\r\n              remoteId: msg.id?.remote,\r\n              body: msg.body?.substring(0, 30) + '...'\r\n            });\r\n          });\r\n\r\n          // Listar IDs Ãºnicos disponÃ­veis\r\n          const uniqueIds = new Set();\r\n          messages.forEach(msg => {\r\n            if (msg.chatId) uniqueIds.add(msg.chatId);\r\n            if (msg.from) uniqueIds.add(msg.from);\r\n            if (msg.to) uniqueIds.add(msg.to);\r\n            if (msg.id?.remote) uniqueIds.add(msg.id.remote);\r\n          });\r\n\r\n          debugLog('IDs Ãºnicos disponÃ­veis:', Array.from(uniqueIds).slice(0, 10));\r\n        }\r\n\r\n        setMessageLoadError('Nenhuma mensagem encontrada para este chat');\r\n      } else {\r\n        // Ordenar mensagens por timestamp\r\n        const sortedMessages = foundMessages.sort((a, b) => {\r\n          const timeA = a.timestamp || a.date || a.createdAt || 0;\r\n          const timeB = b.timestamp || b.date || b.createdAt || 0;\r\n          return timeA - timeB;\r\n        });\r\n\r\n        setChatMessages(sortedMessages);\r\n        debugLog(`âœ… SUCESSO: ${sortedMessages.length} mensagens carregadas e ordenadas`);\r\n\r\n        if (sortedMessages.length > 0) {\r\n          debugLog('Primeira mensagem:', {\r\n            body: sortedMessages[0].body?.substring(0, 50),\r\n            timestamp: sortedMessages[0].timestamp,\r\n            fromMe: sortedMessages[0].fromMe\r\n          });\r\n          debugLog('Ãšltima mensagem:', {\r\n            body: sortedMessages[sortedMessages.length - 1].body?.substring(0, 50),\r\n            timestamp: sortedMessages[sortedMessages.length - 1].timestamp,\r\n            fromMe: sortedMessages[sortedMessages.length - 1].fromMe\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    loadMessagesForChat();\r\n  }, [selectedChat, messages, normalizeId, debugLog]);\r\n\r\n  // Auto-scroll para a Ãºltima mensagem\r\n  useEffect(() => {\r\n    if (messagesEndRef.current && chatMessages.length > 0) {\r\n      setTimeout(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n      }, 100);\r\n    }\r\n  }, [chatMessages]);\r\n\r\n  // Handlers\r\n  const handleChatSelect = useCallback((chat) => {\r\n    debugLog(`Chat selecionado: ${chat.name || 'sem nome'}`, {\r\n      id: chat.id?._serialized,\r\n      isGroup: chat.isGroup\r\n    });\r\n    selectChat(chat);\r\n  }, [selectChat, debugLog]);\r\n\r\n  const handleSendMessage = useCallback(async () => {\r\n    if (!newMessage.trim() || !selectedChat) return;\r\n\r\n    try {\r\n      debugLog('Enviando mensagem...', {\r\n        chatId: selectedChat.id._serialized,\r\n        message: newMessage.substring(0, 50) + '...'\r\n      });\r\n      \r\n      await sendMessage(selectedChat.id._serialized, newMessage);\r\n      setNewMessage('');\r\n      debugLog('Mensagem enviada com sucesso');\r\n    } catch (error) {\r\n      debugLog('Erro ao enviar mensagem', error);\r\n      alert('Erro ao enviar mensagem: ' + error.message);\r\n    }\r\n  }, [newMessage, selectedChat, sendMessage, debugLog]);\r\n\r\n  const handleKeyPress = useCallback((e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  }, [handleSendMessage]);\r\n\r\n  // Upload handlers\r\n  const handleFileSelect = useCallback((e) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      const file = files[0];\r\n      debugLog('Arquivo selecionado', { name: file.name, size: file.size });\r\n      \r\n      if (file.size > 16 * 1024 * 1024) {\r\n        alert('âŒ Arquivo muito grande. MÃ¡ximo 16MB.');\r\n        return;\r\n      }\r\n      \r\n      alert(`ðŸ“Ž Upload selecionado: ${file.name} (${(file.size/1024/1024).toFixed(2)}MB)\\n\\nFuncionalidade de upload serÃ¡ implementada em breve.`);\r\n    }\r\n  }, [debugLog]);\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(true);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n    \r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) {\r\n      const file = files[0];\r\n      debugLog('Arquivo arrastado', { name: file.name, size: file.size });\r\n      \r\n      if (file.size > 16 * 1024 * 1024) {\r\n        alert('âŒ Arquivo muito grande. MÃ¡ximo 16MB.');\r\n        return;\r\n      }\r\n      \r\n      alert(`ðŸ“‚ Arquivo arrastado: ${file.name}\\n\\nUpload serÃ¡ implementado em breve.`);\r\n    }\r\n  }, [debugLog]);\r\n\r\n  // Render de mensagem otimizado\r\n  const renderMessage = useCallback((msg, index) => {\r\n    const isFromMe = msg.fromMe;\r\n    const timestamp = msg.timestamp || msg.date || msg.createdAt;\r\n    const messageTime = timestamp ? new Date(timestamp * 1000) : new Date();\r\n    \r\n    return (\r\n      <div \r\n        key={`msg_${msg.id || index}_${timestamp}`}\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: isFromMe ? 'flex-end' : 'flex-start',\r\n          marginBottom: '12px'\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            maxWidth: '70%',\r\n            padding: '12px 16px',\r\n            borderRadius: isFromMe ? '18px 18px 4px 18px' : '18px 18px 18px 4px',\r\n            backgroundColor: isFromMe ? '#2B4C8C' : '#ffffff',\r\n            color: isFromMe ? 'white' : 'black',\r\n            boxShadow: isFromMe ? '0 2px 4px rgba(43,76,140,0.3)' : '0 2px 4px rgba(0,0,0,0.1)',\r\n            border: isFromMe ? 'none' : '1px solid #e0e0e0',\r\n            wordWrap: 'break-word'\r\n          }}\r\n        >\r\n          <div style={{ marginBottom: '4px' }}>\r\n            {msg.body || (msg.hasMedia ? 'ðŸ“Ž Arquivo de mÃ­dia' : 'Mensagem vazia')}\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: '11px',\r\n              opacity: 0.7,\r\n              textAlign: 'right',\r\n              display: 'flex',\r\n              justifyContent: 'flex-end',\r\n              alignItems: 'center',\r\n              gap: '4px'\r\n            }}\r\n          >\r\n            {messageTime.toLocaleTimeString('pt-BR', {\r\n              hour: '2-digit',\r\n              minute: '2-digit'\r\n            })}\r\n            {isFromMe && <span>âœ“âœ“</span>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }, []);\r\n\r\n  // Status badge\r\n  const getStatusBadge = useCallback(() => {\r\n    if (status === 'connected' && isConnected) {\r\n      return { text: 'ðŸŸ¢ WhatsApp Conectado', color: '#10B981' };\r\n    } else if (status === 'connecting') {\r\n      return { text: 'ðŸŸ¡ Conectando...', color: '#F59E0B' };\r\n    } else if (status === 'qr') {\r\n      return { text: 'ðŸ“± Aguardando QR Code', color: '#3B82F6' };\r\n    } else if (error) {\r\n      return { text: 'ðŸ”´ Erro de ConexÃ£o', color: '#EF4444' };\r\n    } else {\r\n      return { text: 'âš« Desconectado', color: '#6B7280' };\r\n    }\r\n  }, [status, isConnected, error]);\r\n\r\n  const statusBadge = getStatusBadge();\r\n\r\n  // Render principal\r\n  return (\r\n    <div style={{ \r\n      display: 'flex', \r\n      height: '100vh', \r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n      backgroundColor: '#f0f2f5' \r\n    }}>\r\n      \r\n      {/* SIDEBAR ESQUERDA */}\r\n      <div style={{ \r\n        width: '350px', \r\n        backgroundColor: 'white',\r\n        borderRight: '1px solid #e0e0e0',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        minHeight: '100vh'\r\n      }}>\r\n        \r\n        {/* Header da sidebar */}\r\n        <div style={{ \r\n          padding: '20px', \r\n          background: 'linear-gradient(135deg, #2B4C8C 0%, #C97A4A 100%)',\r\n          color: 'white'\r\n        }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div>\r\n              <h1 style={{ \r\n                margin: 0, \r\n                fontSize: '18px', \r\n                fontWeight: '600',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px'\r\n              }}>\r\n                ðŸ“± PRIMEM WhatsApp\r\n              </h1>\r\n              <div style={{ \r\n                fontSize: '12px', \r\n                marginTop: '4px',\r\n                opacity: 0.9,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '6px'\r\n              }}>\r\n                <span style={{ color: statusBadge.color }}>â—</span>\r\n                {statusBadge.text}\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex', gap: '8px' }}>\r\n              <button \r\n                onClick={() => connect()}\r\n                style={{\r\n                  background: 'rgba(255,255,255,0.2)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  padding: '6px 10px',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '11px'\r\n                }}\r\n                title=\"Reconectar WhatsApp\"\r\n              >\r\n                ðŸ”„\r\n              </button>\r\n              <button \r\n                onClick={logout}\r\n                style={{\r\n                  background: 'rgba(255,255,255,0.2)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  padding: '6px 10px',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '11px'\r\n                }}\r\n                title=\"Fazer Logout\"\r\n              >\r\n                ðŸšª\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info do usuÃ¡rio */}\r\n        <div style={{\r\n          padding: '16px',\r\n          borderBottom: '1px solid #f0f0f0',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '12px'\r\n        }}>\r\n          <div style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            borderRadius: '50%',\r\n            background: 'linear-gradient(135deg, #2B4C8C, #C97A4A)',\r\n            color: 'white',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            fontSize: '16px',\r\n            fontWeight: 'bold'\r\n          }}>\r\n            {user?.name?.charAt(0).toUpperCase() || 'U'}\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: '600', fontSize: '14px' }}>\r\n              {user?.name || 'UsuÃ¡rio'}\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#666' }}>\r\n              {user?.role || 'agent'} â€¢ {user?.email || 'N/A'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Busca */}\r\n        <div style={{ padding: '16px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"ðŸ” Buscar conversas...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px 12px',\r\n              border: '1px solid #e0e0e0',\r\n              borderRadius: '20px',\r\n              outline: 'none',\r\n              fontSize: '14px',\r\n              backgroundColor: '#f8f9fa'\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* EstatÃ­sticas */}\r\n        <div style={{ \r\n          padding: '0 16px 16px',\r\n          fontSize: '13px',\r\n          color: '#666'\r\n        }}>\r\n          {status === 'connected' && `ðŸ’¬ ${chats.length} conversas â€¢ ${messages.length} mensagens`}\r\n          {status === 'connecting' && 'ðŸ”„ Carregando conversas...'}\r\n          {status === 'qr' && 'ðŸ“± Escaneie o QR Code abaixo'}\r\n          {error && `âŒ ${error}`}\r\n        </div>\r\n\r\n        {/* Lista de conversas */}\r\n        <div style={{ \r\n          flex: 1, \r\n          overflowY: 'auto',\r\n          borderTop: '1px solid #f0f0f0'\r\n        }}>\r\n          {filteredChats.length > 0 ? (\r\n            filteredChats.map((chat, index) => (\r\n              <div\r\n                key={chat.id?._serialized || `chat_${index}`}\r\n                onClick={() => handleChatSelect(chat)}\r\n                style={{\r\n                  padding: '16px',\r\n                  borderBottom: '1px solid #f0f0f0',\r\n                  cursor: 'pointer',\r\n                  backgroundColor: selectedChat?.id?._serialized === chat.id?._serialized \r\n                    ? '#e3f2fd' \r\n                    : 'transparent',\r\n                  transition: 'background-color 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  if (selectedChat?.id?._serialized !== chat.id?._serialized) {\r\n                    e.target.style.backgroundColor = '#f8f9fa';\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (selectedChat?.id?._serialized !== chat.id?._serialized) {\r\n                    e.target.style.backgroundColor = 'transparent';\r\n                  }\r\n                }}\r\n              >\r\n                <div style={{ \r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '12px'\r\n                }}>\r\n                  <div style={{\r\n                    width: '48px',\r\n                    height: '48px',\r\n                    borderRadius: '50%',\r\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                    color: 'white',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '18px',\r\n                    fontWeight: 'bold',\r\n                    flexShrink: 0\r\n                  }}>\r\n                    {chat.name ? chat.name.charAt(0).toUpperCase() : '?'}\r\n                  </div>\r\n                  <div style={{ flex: 1, minWidth: 0 }}>\r\n                    <div style={{ \r\n                      fontWeight: '600',\r\n                      fontSize: '15px',\r\n                      color: '#1a1a1a',\r\n                      marginBottom: '2px',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {chat.name || 'Chat sem nome'}\r\n                    </div>\r\n                    <div style={{ \r\n                      fontSize: '12px', \r\n                      color: '#666',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      whiteSpace: 'nowrap'\r\n                    }}>\r\n                      {normalizeId(chat.id?._serialized || 'ID nÃ£o disponÃ­vel')}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {chat.unreadCount > 0 && (\r\n                    <div style={{\r\n                      backgroundColor: '#25D366',\r\n                      color: 'white',\r\n                      borderRadius: '50%',\r\n                      minWidth: '20px',\r\n                      height: '20px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      fontSize: '12px',\r\n                      fontWeight: 'bold'\r\n                    }}>\r\n                      {chat.unreadCount > 99 ? '99+' : chat.unreadCount}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div style={{ \r\n              padding: '40px 20px', \r\n              textAlign: 'center', \r\n              color: '#666',\r\n              fontSize: '14px'\r\n            }}>\r\n              {loading && (\r\n                <>\r\n                  <div style={{\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    border: '3px solid #f3f3f3',\r\n                    borderTop: '3px solid #2B4C8C',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite',\r\n                    margin: '0 auto 16px'\r\n                  }}></div>\r\n                  Carregando conversas...\r\n                </>\r\n              )}\r\n              {!loading && chats.length === 0 && 'ðŸ“­ Nenhuma conversa disponÃ­vel'}\r\n              {!loading && chats.length > 0 && 'ðŸ” Nenhuma conversa encontrada'}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ÃREA PRINCIPAL */}\r\n      <div style={{ \r\n        flex: 1, \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        backgroundColor: '#f0f2f5'\r\n      }}>\r\n        \r\n        {/* QR CODE */}\r\n        {status === 'qr' && qrCode && (\r\n          <div style={{ \r\n            flex: 1, \r\n            display: 'flex', \r\n            flexDirection: 'column', \r\n            alignItems: 'center', \r\n            justifyContent: 'center',\r\n            padding: '40px',\r\n            backgroundColor: 'white'\r\n          }}>\r\n            <div style={{ \r\n              textAlign: 'center',\r\n              marginBottom: '32px'\r\n            }}>\r\n              <div style={{ fontSize: '72px', marginBottom: '16px' }}>ðŸ“±</div>\r\n              <h2 style={{ \r\n                color: '#2B4C8C',\r\n                fontSize: '28px',\r\n                marginBottom: '8px',\r\n                fontWeight: '600'\r\n              }}>\r\n                Conectar WhatsApp\r\n              </h2>\r\n              <p style={{ \r\n                color: '#666',\r\n                fontSize: '16px',\r\n                margin: 0\r\n              }}>\r\n                Escaneie o cÃ³digo QR com seu WhatsApp\r\n              </p>\r\n            </div>\r\n            \r\n            <div style={{ \r\n              backgroundColor: 'white',\r\n              padding: '24px',\r\n              borderRadius: '12px',\r\n              boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n              border: '1px solid #e0e0e0',\r\n              marginBottom: '24px'\r\n            }}>\r\n              <img \r\n                src={qrCode} \r\n                alt=\"QR Code WhatsApp\" \r\n                style={{ \r\n                  width: '280px', \r\n                  height: '280px',\r\n                  display: 'block'\r\n                }}\r\n              />\r\n            </div>\r\n            \r\n            <div style={{ \r\n              marginTop: '24px',\r\n              textAlign: 'center',\r\n              maxWidth: '400px'\r\n            }}>\r\n              <p style={{ \r\n                color: '#666',\r\n                fontSize: '14px',\r\n                lineHeight: '1.6',\r\n                margin: 0\r\n              }}>\r\n                <strong>Como conectar:</strong><br />\r\n                1. Abra o WhatsApp no seu celular<br />\r\n                2. Toque em Menu â†’ Dispositivos conectados<br />\r\n                3. Toque em \"Conectar dispositivo\"<br />\r\n                4. Escaneie o cÃ³digo QR acima\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* CHAT SELECIONADO */}\r\n        {selectedChat && status === 'connected' && (\r\n          <>\r\n            {/* Header do chat */}\r\n            <div style={{ \r\n              padding: '16px 24px', \r\n              backgroundColor: 'white',\r\n              borderBottom: '1px solid #e0e0e0',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <div style={{\r\n                width: '48px',\r\n                height: '48px',\r\n                borderRadius: '50%',\r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: 'white',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '20px',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                {selectedChat.name ? selectedChat.name.charAt(0).toUpperCase() : '?'}\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ \r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  color: '#1a1a1a',\r\n                  marginBottom: '2px'\r\n                }}>\r\n                  {selectedChat.name || 'Chat sem nome'}\r\n                </div>\r\n                <div style={{ \r\n                  fontSize: '12px', \r\n                  color: '#666'\r\n                }}>\r\n                  {normalizeId(selectedChat.id?._serialized)} â€¢ ðŸŸ¢ Online â€¢ {chatMessages.length} mensagens\r\n                </div>\r\n              </div>\r\n              <div style={{ display: 'flex', gap: '8px' }}>\r\n                <button style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '18px',\r\n                  cursor: 'pointer',\r\n                  padding: '8px',\r\n                  borderRadius: '6px',\r\n                  transition: 'background-color 0.2s ease'\r\n                }}>ðŸ”</button>\r\n                <button style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '18px',\r\n                  cursor: 'pointer',\r\n                  padding: '8px',\r\n                  borderRadius: '6px',\r\n                  transition: 'background-color 0.2s ease'\r\n                }}>â‹®</button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ãrea de mensagens */}\r\n            <div \r\n              style={{ \r\n                flex: 1, \r\n                padding: '24px', \r\n                overflowY: 'auto',\r\n                backgroundColor: '#f0f2f5',\r\n                ...(dragOver && {\r\n                  backgroundColor: `rgba(43,76,140,0.1)`,\r\n                  border: `2px dashed #2B4C8C`\r\n                })\r\n              }}\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n            >\r\n              {chatMessages.length > 0 ? (\r\n                <>\r\n                  {chatMessages.map((msg, index) => {\r\n                    const showDateSeparator = index === 0 || \r\n                      new Date((msg.timestamp || msg.date || msg.createdAt || 0) * 1000).toDateString() !== \r\n                      new Date((chatMessages[index - 1]?.timestamp || chatMessages[index - 1]?.date || chatMessages[index - 1]?.createdAt || 0) * 1000).toDateString();\r\n\r\n                    return (\r\n                      <React.Fragment key={`fragment_${msg.id}_${index}`}>\r\n                        {showDateSeparator && (\r\n                          <div style={{\r\n                            textAlign: 'center',\r\n                            margin: '16px 0',\r\n                            position: 'relative'\r\n                          }}>\r\n                            <span style={{\r\n                              display: 'inline-block',\r\n                              padding: '4px 12px',\r\n                              backgroundColor: 'rgba(255,255,255,0.9)',\r\n                              borderRadius: '12px',\r\n                              fontSize: '12px',\r\n                              color: '#666',\r\n                              border: '1px solid #e0e0e0'\r\n                            }}>\r\n                              {new Date((msg.timestamp || msg.date || msg.createdAt || 0) * 1000).toLocaleDateString('pt-BR', {\r\n                                weekday: 'long',\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: 'numeric'\r\n                              })}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {renderMessage(msg, index)}\r\n                      </React.Fragment>\r\n                    );\r\n                  })}\r\n                  <div ref={messagesEndRef} />\r\n                </>\r\n              ) : (\r\n                <div style={{ \r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  height: '100%',\r\n                  color: '#666',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  <div style={{ fontSize: '72px', marginBottom: '16px' }}>ðŸ’¬</div>\r\n                  <h3 style={{ margin: '0 0 8px 0', fontSize: '18px' }}>\r\n                    {messageLoadError || 'Nenhuma mensagem ainda'}\r\n                  </h3>\r\n                  <p style={{ margin: '0 0 8px 0', fontSize: '14px' }}>\r\n                    {messageLoadError ? 'Verifique o console para mais detalhes' : 'Inicie a conversa enviando uma mensagem'}\r\n                  </p>\r\n                  <small style={{ fontSize: '12px', color: '#999' }}>\r\n                    Chat: {selectedChat.name}<br/>\r\n                    ID: {selectedChat.id?._serialized}<br/>\r\n                    Mensagens no sistema: {messages.length}<br/>\r\n                    Status: {status}\r\n                  </small>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Input de mensagem */}\r\n            <div style={{ \r\n              padding: '16px 24px', \r\n              backgroundColor: 'white',\r\n              borderTop: '1px solid #e0e0e0'\r\n            }}>\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'flex-end',\r\n                gap: '12px'\r\n              }}>\r\n                <button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    fontSize: '20px',\r\n                    cursor: 'pointer',\r\n                    padding: '8px',\r\n                    borderRadius: '6px',\r\n                    transition: 'background-color 0.2s ease'\r\n                  }}\r\n                  title=\"Anexar arquivo\"\r\n                  onMouseEnter={(e) => e.target.style.backgroundColor = '#f0f0f0'}\r\n                  onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                >\r\n                  ðŸ“Ž\r\n                </button>\r\n                \r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={handleFileSelect}\r\n                  accept=\"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt\"\r\n                />\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  value={newMessage}\r\n                  onChange={(e) => setNewMessage(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  placeholder=\"Digite sua mensagem...\"\r\n                  style={{\r\n                    flex: 1,\r\n                    padding: '12px 16px',\r\n                    border: '2px solid #e0e0e0',\r\n                    borderRadius: '24px',\r\n                    outline: 'none',\r\n                    fontSize: '14px',\r\n                    backgroundColor: '#f8f9fa',\r\n                    transition: 'border-color 0.2s ease'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#2B4C8C'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#e0e0e0'}\r\n                />\r\n\r\n                <button\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    fontSize: '20px',\r\n                    cursor: 'pointer',\r\n                    padding: '8px',\r\n                    borderRadius: '6px',\r\n                    transition: 'background-color 0.2s ease'\r\n                  }}\r\n                  title=\"Adicionar emoji\"\r\n                  onMouseEnter={(e) => e.target.style.backgroundColor = '#f0f0f0'}\r\n                  onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                >\r\n                  ðŸ˜Š\r\n                </button>\r\n\r\n                <button\r\n                  onClick={handleSendMessage}\r\n                  disabled={!newMessage.trim()}\r\n                  style={{\r\n                    width: '48px',\r\n                    height: '48px',\r\n                    borderRadius: '50%',\r\n                    border: 'none',\r\n                    backgroundColor: newMessage.trim() ? '#25D366' : '#ccc',\r\n                    color: 'white',\r\n                    cursor: newMessage.trim() ? 'pointer' : 'not-allowed',\r\n                    fontSize: '20px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    transition: 'all 0.2s ease',\r\n                    boxShadow: newMessage.trim() ? '0 2px 8px rgba(37, 211, 102, 0.3)' : 'none'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (newMessage.trim()) {\r\n                      e.target.style.transform = 'scale(1.05)';\r\n                      e.target.style.backgroundColor = '#20B954';\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    if (newMessage.trim()) {\r\n                      e.target.style.transform = 'scale(1)';\r\n                      e.target.style.backgroundColor = '#25D366';\r\n                    }\r\n                  }}\r\n                >\r\n                  â†—ï¸\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* ESTADO VAZIO */}\r\n        {!selectedChat && status === 'connected' && (\r\n          <div style={{ \r\n            flex: 1, \r\n            display: 'flex', \r\n            flexDirection: 'column', \r\n            alignItems: 'center', \r\n            justifyContent: 'center',\r\n            color: '#666',\r\n            backgroundColor: 'white',\r\n            textAlign: 'center'\r\n          }}>\r\n            <div style={{ \r\n              fontSize: '96px', \r\n              marginBottom: '24px',\r\n              opacity: 0.3 \r\n            }}>\r\n              ðŸ’¬\r\n            </div>\r\n            <h2 style={{ \r\n              fontSize: '24px',\r\n              color: '#2B4C8C',\r\n              marginBottom: '8px',\r\n              fontWeight: '600'\r\n            }}>\r\n              Selecione uma conversa\r\n            </h2>\r\n            <p style={{ \r\n              fontSize: '16px',\r\n              color: '#666',\r\n              margin: 0\r\n            }}>\r\n              Escolha uma conversa na lista ao lado para comeÃ§ar\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* CARREGANDO */}\r\n        {(status === 'connecting' || loading) && (\r\n          <div style={{ \r\n            flex: 1, \r\n            display: 'flex', \r\n            flexDirection: 'column',\r\n            alignItems: 'center', \r\n            justifyContent: 'center',\r\n            backgroundColor: 'white'\r\n          }}>\r\n            <div style={{\r\n              width: '60px',\r\n              height: '60px',\r\n              border: '4px solid #f3f3f3',\r\n              borderTop: '4px solid #2B4C8C',\r\n              borderRadius: '50%',\r\n              animation: 'spin 1s linear infinite',\r\n              marginBottom: '24px'\r\n            }}></div>\r\n            <h3 style={{ color: '#2B4C8C', marginBottom: '8px' }}>\r\n              {status === 'connecting' ? 'Conectando ao WhatsApp...' : 'Carregando...'}\r\n            </h3>\r\n            <p style={{ color: '#666', textAlign: 'center' }}>\r\n              {status === 'connecting' ? 'Estabelecendo conexÃ£o segura' : 'Aguarde um momento'}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* ERRO */}\r\n        {(status === 'error' || status === 'disconnected') && error && (\r\n          <div style={{ \r\n            flex: 1, \r\n            display: 'flex', \r\n            flexDirection: 'column',\r\n            alignItems: 'center', \r\n            justifyContent: 'center',\r\n            backgroundColor: 'white'\r\n          }}>\r\n            <div style={{ fontSize: '72px', marginBottom: '16px' }}>âŒ</div>\r\n            <h3 style={{ color: '#EF4444', marginBottom: '8px' }}>Erro de ConexÃ£o</h3>\r\n            <p style={{ \r\n              color: '#666', \r\n              textAlign: 'center', \r\n              maxWidth: '400px',\r\n              marginBottom: '24px'\r\n            }}>\r\n              {error}\r\n            </p>\r\n            <button \r\n              onClick={connect}\r\n              style={{\r\n                padding: '12px 24px',\r\n                backgroundColor: '#2B4C8C',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                cursor: 'pointer',\r\n                fontSize: '14px',\r\n                fontWeight: '600'\r\n              }}\r\n            >\r\n              ðŸ”„ Tentar Novamente\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* CSS para animaÃ§Ã£o de loading */}\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}